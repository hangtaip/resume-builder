{"version":3,"file":"4782.f2bddb55df6cead53470.chunk.js","mappings":"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","sources":["webpack://resume-builder/./src/js/objectRegistry.js","webpack://resume-builder/./src/components/formExperiences/formExperiences.js"],"sourcesContent":["class ObjectRegistry {\n  constructor() {\n    this.registry = new Map();\n  }\n\n  set(key, value) {\n    this.registry.set(key, value);\n  }\n\n  get(key) {\n    return this.registry.get(key);\n  }\n\n  clear() {\n    this.registry.forEach((_, key) => this.registry.delete(key));\n  }\n}\n\nexport default new ObjectRegistry();\n","import DOMPurify from \"dompurify\";\nimport Listener from \"../../js/listener.js\";\nimport { registerCustomElement } from \"../../js/registerComponent.js\";\nimport styles from \"./formExperiences.shadow.scss\";\nimport { icon, library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faRectangleXmark } from \"@fortawesome/free-solid-svg-icons\";\n// import yaml from \"../../data/data.yaml\";\nimport eventManager from \"../../js/eventManager.js\";\nimport objectRegistry from \"../../js/objectRegistry.js\";\n\nexport default class FormExperiences extends HTMLElement {\n  static observedAttributes = [\"data-values\"];\n\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.isReadyPromise = new Promise(resolve => {\n      this.resolveReady = resolve;\n    });\n    this.listener;\n    this.customEventData = {\n      await: false,\n      awaitDetail() { return 0 },\n      eventName: \"handleCustomEvent\",\n      details: \"\",\n    };\n    this.unsubscribe;\n    this.dataValues;\n    library.add(faRectangleXmark);\n  }\n\n  connectedCallback() {\n    this.render().then(() => {\n      this.resolveReady();\n    });\n    this.setValueRequestDetail();\n    this.publishCustomEvent(this.customEventData);\n    this.styling();\n    this.setupEventListener();\n    // this.testDataInsert();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    switch (name) {\n      case \"data-values\":\n        const values = JSON.parse(newValue || \"{}\");\n        let input;\n        Object.entries(values).forEach((value) => {\n          input = this.shadowRoot.querySelector(\n            `input[data-attr=\"${value[0]}\"]`,\n          );\n          if (input) {\n            switch (input.type) {\n              case \"text\":\n                input.value = value[1];\n                break;\n              case \"color\":\n                const hexColor = `#${value[1].toString().replace(/^#/, \"\")}`;\n                input.value = hexColor;\n                break;\n            }\n          }\n        });\n\n        break;\n    }\n  }\n\n  async render() {\n    const dom = `\n     <div class=\"container\">\n        <fieldset>\n           <legend>Experiences</legend>\n           <div class=\"view\">\n              <button class=\"clickable add-btn\" type=\"button\" title=\"Add experience\">Add</button>\n              ${this.customInput()} \n           </div>\n        </fieldset>\n     </div>\n     `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n\n    await new Promise(resolve => requestAnimationFrame(() => resolve()));\n  }\n\n  styling() {\n    const sheet = new CSSStyleSheet();\n    sheet.replaceSync(styles.toString());\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.listener.setDelegates(this.shadowRoot.querySelector(\".add-btn\"));\n    this.shadowRoot.addEventListener(\"click\", this.listener);\n    this.shadowRoot.addEventListener(\"transitionend\", this.listener);\n    this.unsubscribe = eventManager.subscribe(\n      \"importDataLoaded\",\n      this.listener,\n    );\n  }\n\n  handleClick(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      let elem = event.target.closest(\".clickable\");\n\n      if (!elem) return;\n      if (!this.shadowRoot.contains(elem)) return;\n\n      switch (true) {\n        case elem.classList.contains(\"add-btn\"):\n          const dom = this.customInput();\n          const newExp = new DOMParser()\n            .parseFromString(DOMPurify.sanitize(dom), \"text/html\")\n            .body.querySelector(\"div.container\");\n          this.shadowRoot.querySelector(\"fieldset .view\").append(newExp);\n\n          this.setValueRequestDetail();\n          this.publishCustomEvent(this.customEventData);\n          break;\n        case elem.classList.contains(\"add-desc-btn\"):\n          const domDesc = this.customInputDescription();\n          const newDesc = new DOMParser()\n            .parseFromString(DOMPurify.sanitize(domDesc), \"text/html\")\n            .body.querySelector(\"custom-textarea\");\n          this.shadowRoot.querySelector(\"fieldset.desc\").append(newDesc); \n          break;\n        case elem.classList.contains(\"delete-btn\"):\n          if (elem.closest(\"fieldset.desc\")) {\n            if (\n              elem.closest(\"fieldset.desc\").querySelectorAll(\"custom-textarea\")\n                .length > 1\n            ) {\n              elem.closest(\"custom-textarea\").classList.add(\"removing\");\n            }\n            // elem.closest(\"fieldset.desc\").querySelectorAll(\"custom-textarea\").length <= 1\n            // || elem.closest(\"custom-textarea\").remove();\n          } else {\n            if (\n              this.shadowRoot.querySelectorAll(\".container.list\").length > 1\n            ) {\n              elem.closest(\".container.list\").classList.add(\"removing\");\n            }\n            // this.shadowRoot.querySelectorAll(\".container.list\").length <= 1\n            // || elem.closest(\".container.list\").remove();\n          }\n          break;\n      }\n    } else {\n      console.log(\"external\");\n    }\n  }\n\n  handleTransitionend(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      let elem = event.target.closest(\".transitionable\");\n\n      if (!elem) return;\n      if (!this.shadowRoot.contains(elem)) return;\n\n      switch (true) {\n        case elem.matches(\".container.list.removing\"):\n          elem.remove();\n          this.setValueRequestDetail();\n          this.publishCustomEvent(this.customEventData);\n          break;\n        case elem.matches(\"custom-textarea.removing\"):\n          elem.remove();\n          break;\n      }\n    } else {\n      console.log(\"external\");\n    }\n  }\n\n  handleImportDataLoaded(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      let elem = this.shadowRoot.querySelector(\".view\");\n\n      if (!elem) return;\n      if (!this.shadowRoot.contains(elem)) return;\n\n      let inputs = \"\";\n      const existingInputs =\n        this.shadowRoot.querySelectorAll(\".container.list\");\n\n      Object.values(event.detail.data.owner.exp).forEach((exp, i) => {\n        if (existingInputs[i]) {\n          return Object.keys(exp).map((key) => {\n            if (this.shadowRoot.querySelector(`input[data-attr=\"${key}\"]`)) {\n              this.shadowRoot.querySelector(`input[data-attr=\"${key}\"`).value =\n                exp[key];\n            }\n\n            if (key == \"desc\") {\n              this.shadowRoot.querySelector(\"custom-textarea\").dataset.values =\n                JSON.stringify(exp[key]);\n            }\n          });\n        }\n        inputs += this.customInput(exp);\n      });\n      const input = new DOMParser().parseFromString(inputs, \"text/html\");\n      const fragments = new DocumentFragment();\n      while (input.body.firstChild) {\n        fragments.append(input.body.firstChild);\n      }\n\n      this.shadowRoot.querySelector(\".view\").append(fragments);\n\n      this.importComplete();\n\n      this.setValueRequestDetail();\n      this.publishCustomEvent(this.customEventData);\n    } else {\n      console.log(\"external\");\n    }\n  }\n\n  importComplete() {\n    if (objectRegistry.registry.has(\"formLoaded\")) {\n      const readyCnt = objectRegistry.get(\"formLoaded\").get(\"readyCnt\") + 1;\n      const formCnt = objectRegistry.get(\"formLoaded\").get(\"formCnt\");\n      objectRegistry.get(\"formLoaded\").set(\"readyCnt\", readyCnt); \n\n      if (readyCnt == formCnt) {\n        this.customEventData.await = false;\n        this.customEventData.awaitDetail = () => {\n          return 0;\n        };\n        this.customEventData.eventName = \"stopLoading\";\n        this.customEventData.details = {};\n        this.publishCustomEvent(this.customEventData);\n      }\n    } else {\n      console.warn(`${this.constructor.name}: Please set default state for formLoaded before dispatch importDataLoaded event.`);\n    }\n  }\n\n  testDataInsert() {\n    let inputs = \"\";\n    const existingInputs = this.shadowRoot.querySelectorAll(\".container.list\");\n    Object.values(yaml.owner.exp).forEach((exp, i) => {\n      // inputs += this.customInput(`[\"${skill.name}\",\"${skill.color}\"]`);\n      if (existingInputs[i]) {\n        return Object.keys(exp).map((key) => {\n          if (this.shadowRoot.querySelector(`input[data-attr=\"${key}\"]`)) {\n            this.shadowRoot.querySelector(`input[data-attr=\"${key}\"`).value =\n              exp[key];\n          }\n\n          if (key == \"desc\") {\n            this.shadowRoot.querySelector(\"custom-textarea\").dataset.values =\n              JSON.stringify(exp[key]);\n          }\n        });\n      }\n      inputs += this.customInput(exp);\n    });\n    const input = new DOMParser().parseFromString(inputs, \"text/html\");\n    const fragments = new DocumentFragment();\n    while (input.body.firstChild) {\n      fragments.append(input.body.firstChild);\n    }\n\n    this.shadowRoot.querySelector(\".view\").append(fragments);\n  }\n\n  customInput(data = \"\") {\n    const xMark = icon(faRectangleXmark, {\n      classes: [\"fa-xMark\", \"icon\"],\n    });\n\n    return ` \n     <div class=\"container list transitionable\">\n        <div class=\"form-group\">\n          <div class=\"form-group-item\">\n            <label for=\"hf_exp_org\">Organisation</label>\n            <input type=\"text\" title=\"organisation\" placeholder=\"ABC Restaurant\" id=\"hf_exp_org\" data-width=\"20\" data-attr=\"org\" \n            ${data.org && data.org.length > 0 ? `value=\"${data.org}\"` : \"\"}\n          >\n          </div>\n          <div class=\"form-group-item\">\n            <label for=\"hf_exp_pos\">Position</label>\n            <input type=\"text\" title=\"position\" placeholder=\"Waiter\" id=\"hf_exp_pos\" data-width=\"20\" data-attr=\"pos\" \n            ${data.pos && data.pos.length > 0 ? `value=\"${data.pos}\"` : \"\"}\n            >\n          </div>\n          <div class=\"form-group-item\">\n            <fieldset class=\"duration\">\n              <legend>Duration</legend>\n                <div class=\"form-group\">\n                  <div class=\"form-group-item\">\n                    <label for=\"hf_exp_tl_from\">From</label>\n                    <input type=\"month\" title=\"duration\" placeholder=\"01/2024\" id=\"hf_exp_tl\" data-width=\"10\" data-attr=\"tl_from\" \n                    ${data.tl_from && data.tl_from.length > 0 ? `value=\"${data.tl_from}\"` : \"\"}\n                  >\n                  </div>\n                  <div class=\"form-group-item\">\n                    <label for=\"hf_exp_tl\">To</label>\n                    <input type=\"month\" title=\"duration\" placeholder=\"12/2024\" id=\"hf_exp_tl\" data-width=\"10\" data-attr=\"tl_to\" \n                    ${data.tl_to && data.tl_to.length > 0 ? `value=\"${data.tl_to}\"` : \"\"}\n                    >\n                </div>\n              </div>\n            </fieldset>\n          </div>\n          <div class=\"form-group-item\">\n            <fieldset class=\"desc\">\n              <legend>Description</legend>\n              ${this.customInputDescription(data.desc)} \n            </fieldset>\n          </div>\n        </div>\n        <button class=\"clickable delete-btn\" type=\"button\" title=\"Remove experiecnce\">${xMark.node[0].outerHTML}</button>\n     </div>\n    `;\n    {\n      /* <button class=\"clickable add-desc-btn\" type=\"button\" title=\"Add description\">Add</button> */\n    }\n    // return `\n    //  <button class=\"clickable add-btn\" type=\"button\" title=\"Add education\">Add</button>\n    //\n    //   <custom-input\n    //      title=\"experience\"\n    //      data-input-type='[\"text\", \"text\", \"month\", \"text\"]'\n    //      data-title='[\"organisation\", \"position\", \"duration\", \"description\"]'\n    //      data-placeholder='[\"ABC Restaurant\", \"Waiter\", \"01/2024-12/2024\", \"Learn table etiquette\"]'\n    //      data-id='[\"hf_exp_org\", \"hf_exp_pos\", \"hf_exp_tl\", \"hff_exp_desc\"]'\n    //    />\n    //      <label for=\"hf_exp_org\" slot=\"label_0\">Organisation</label>\n    //      <label for=\"hf_exp_pos\" slot=\"label_1\">Position</label>\n    //      <label for=\"hf_exp_tl\" slot=\"label_2\">Duration</label>\n    //      <label for=\"hf_exp_desc\" slot=\"label_3\">Description</label>\n    //      <button class=\"clickable delete-btn\" type=\"button\" title=\"Remove education\" slot=\"button_3\">${xMark.node[0].outerHTML}</button>\n    //    </custom-input>\n    // `;\n  }\n\n  customInputDescription(data = \"\") {\n    const xMark = icon(faRectangleXmark, {\n      classes: [\"fa-xMark\", \"icon\"],\n    });\n\n    return `\n      <custom-textarea\n        title=\"description\"\n        ${Object.entries(data).length > 1 ? `data-values='${JSON.stringify(data).replace(/'/g, \"&#39;\")}'` : \"\"}\n        class=\"transitionable\"\n        data-title='[\"description\"]'\n        data-attr='[\"desc\"]'\n        data-placeholder='[\"Learn table etiquette\"]'\n        data-id='[\"hf_exp_desc\"]'\n      >\n      </custom-textarea>\n    `;\n\n    {\n      /* <button class=\"clickable delete-btn\" type=\"button\" title=\"Remove description\">${xMark.node[0].outerHTML}</button> */\n    }\n  }\n\n  setValueRequestDetail() {\n    this.customEventData.await = false;\n    this.customEventData.eventName = \"valueRequest\";\n    this.customEventData.details = { [this.tagName.toLowerCase()]: this.shadowRoot.querySelectorAll(\".container.list > .form-group\") };\n  }\n\n  async publishCustomEvent(data) {\n    try {\n      if (data.await) {\n        await data.awaitDetail();\n      }\n\n      const eventDetail = {\n        bubbles: true,\n        composed: true,\n        detail: data.details,\n      };\n\n      eventManager.publish(data.eventName, eventDetail);\n    } catch (err) {\n      console.error(`Failed to publish ${data.eventName} : ${err}`);\n    }\n  } \n}\n\nregisterCustomElement(\"form-experiences\", FormExperiences);\n"],"names":["constructor","this","registry","Map","set","key","value","get","clear","forEach","_","delete","FormExperiences","HTMLElement","static","super","attachShadow","mode","isReadyPromise","Promise","resolve","resolveReady","listener","customEventData","await","awaitDetail","eventName","details","unsubscribe","dataValues","add","connectedCallback","render","then","setValueRequestDetail","publishCustomEvent","styling","setupEventListener","disconnectedCallback","attributeChangedCallback","name","oldValue","newValue","values","JSON","parse","input","Object","entries","shadowRoot","querySelector","type","hexColor","toString","replace","dom","customInput","innerHTML","sanitize","requestAnimationFrame","sheet","CSSStyleSheet","replaceSync","adoptedStyleSheets","setDelegates","addEventListener","subscribe","handleClick","event","delegated","elem","target","closest","contains","classList","newExp","DOMParser","parseFromString","body","append","domDesc","customInputDescription","newDesc","querySelectorAll","length","console","log","handleTransitionend","matches","remove","handleImportDataLoaded","inputs","existingInputs","detail","data","owner","exp","i","keys","map","dataset","stringify","fragments","DocumentFragment","firstChild","importComplete","has","readyCnt","formCnt","warn","testDataInsert","yaml","xMark","classes","org","pos","tl_from","tl_to","desc","node","outerHTML","tagName","toLowerCase","eventDetail","bubbles","composed","publish","err","error"],"sourceRoot":""}