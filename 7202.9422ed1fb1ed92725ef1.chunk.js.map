{"version":3,"file":"7202.9422ed1fb1ed92725ef1.chunk.js","mappings":"4sCAMe,MAAMA,UAAgBC,YACnC,WAAAC,GACEC,QACAC,KAAKC,aAAa,CAAEC,KAAM,SAC1BF,KAAKG,SACLH,KAAKI,UAAYJ,KAAKK,QAAQC,OAAS,UACvCN,KAAKO,0BAA4BP,KAAKO,0BAA0BC,KAAKR,MACrEA,KAAKS,WACP,CAEA,MAAAC,GAOEV,KAAKW,WAAWC,UAAY,IAAUC,SAN1B,uFAOd,CAEA,aAAMC,GACJ,MAAMC,EAAQ,IAAIC,cAIlBD,EAAME,YAAY,UAAOC,YACzBlB,KAAKW,WAAWQ,mBAAqB,CAACJ,EACxC,CAEA,kBAAAK,GACEpB,KAAKG,SAAW,IAAI,IAASH,MAC7BA,KAAKG,SAASkB,aAAarB,MAC3BA,KAAKS,YAAc,IAAaa,UAAU,sBAAuBtB,KAAKG,SACxE,CAEA,yBAAAI,CAA0BgB,EAAOC,GACjBA,aAAqB,IAGpBD,EAAME,OAAOC,KAAKC,MAAMC,MAChCC,OAAOC,KAAKC,IACf/B,KAAKW,WAAWqB,cAAc,QAAQ1B,MAAM2B,gBAAkB,OAAOC,KAAKC,MAAMJ,GAAKL,UAIvFU,QAAQC,IAAI,WAEhB,CAEA,iBAAAC,GACEtC,KAAKoB,qBACLpB,KAAKU,SACLV,KAAKc,SACP,CAEA,oBAAAyB,GACEvC,KAAKS,aACP,GAIF,QAAsB,WAAYb,E","sources":["webpack://resume-builder/./src/components/userPic/userPic.js"],"sourcesContent":["import DOMPurify from \"dompurify\";\nimport Listener from \"../../js/listener.js\";\nimport { registerCustomElement } from \"../../js/registerComponent.js\";\nimport styles from \"./userPic.shadow.scss\";\nimport eventManager from \"../../js/eventManager.js\";\n\nexport default class UserPic extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.listener;\n    this.styleType = this.dataset.style || \"default\";\n    this.handleCompleteFormRequest = this.handleCompleteFormRequest.bind(this);\n    this.unsubscribe;\n  }\n\n  render() {\n    const dom = `\n      <div class=\"container\">\n        <div class=\"pic\"></div>\n      </div>\n    `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n  }\n\n  async styling() {\n    const sheet = new CSSStyleSheet();\n    // sheet.replaceSync(styles);\n    // sheet.replaceSync(styles.toString());\n    // styles.use({ target: this.shadowRoot });\n    sheet.replaceSync(styles.toString());\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.unsubscribe = eventManager.subscribe(\"completeFormRequest\", this.listener);\n  }\n\n  handleCompleteFormRequest(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      const blob = event.detail.data.owner.image;\n      blob.text().then(src => {\n        this.shadowRoot.querySelector(\".pic\").style.backgroundImage = `url(${JSON.parse(src).data})`;\n      });\n\n    } else {\n      console.log(\"external\");\n    }\n  }\n\n  connectedCallback() {\n    this.setupEventListener();\n    this.render();\n    this.styling();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n  }\n}\n\n//customElements.define('page-body', Body);\nregisterCustomElement(\"user-pic\", UserPic);\n"],"names":["UserPic","HTMLElement","constructor","super","this","attachShadow","mode","listener","styleType","dataset","style","handleCompleteFormRequest","bind","unsubscribe","render","shadowRoot","innerHTML","sanitize","styling","sheet","CSSStyleSheet","replaceSync","toString","adoptedStyleSheets","setupEventListener","setDelegates","subscribe","event","delegated","detail","data","owner","image","text","then","src","querySelector","backgroundImage","JSON","parse","console","log","connectedCallback","disconnectedCallback"],"sourceRoot":""}