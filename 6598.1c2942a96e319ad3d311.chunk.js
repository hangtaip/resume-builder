"use strict";(self.webpackChunkresume_builder=self.webpackChunkresume_builder||[]).push([[2421,6598],{2421:(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});const i='*,*::before,*::after{box-sizing:border-box;scrollbar-width:thin}button{background:#fff;color:hsl(0,0%,-4999999.999999999%);border-radius:.25rem;padding:.5rem;padding-inline:.5rem;border-width:0;transition:color .3s ease-out}button:hover{cursor:pointer;background:#d3d3d3;color:hsl(0,0%,-3274509.803921567%);border-radius:0;transition:.3s ease-in}input:not([type=text]){cursor:pointer}.icon{height:.7rem;width:.7rem}button:has(.icon){display:flex;border-width:0;border-radius:.5rem;padding:0}legend{font-size:2ch;font-weight:bold}.hidden{display:none}.container{height:auto;width:auto;background-color:rgba(0,0,0,0);font-family:"Georgia","serif";font-size:1.6ch;word-spacing:.8ch;flex-flow:row wrap}.container fieldset{display:flex;flex-flow:row wrap;border:none}.container button{padding:.25rem;margin-left:auto}.container button.delete-btn{height:10px;display:inline-flex;align-items:center;border:none;padding:0;margin-top:5px;margin-left:auto}.container custom-input{flex:1 100%;transition:all .1s linear}.container label{flex:1}.container .view{display:flex;flex-flow:row wrap;gap:.5rem;flex:1}.container .view:has(>custom-input:nth-of-type(2)) custom-input:not(:last-child){padding-bottom:.5rem;margin-bottom:.5rem;border-bottom:1px solid hsl(240,50%,80%)}.container .view:has(>custom-input:nth-of-type(2)) .delete-btn:hover{color:hsl(211,12%,66%);background-color:hsl(211,88%,34%)}.container .view:has(>custom-input:nth-of-type(2)) .delete-btn:active{transform:scale(0.9);filter:drop-shadow(4px 4px 4px hsl(270, 50%, 40%));transition:all .1s ease-in}.container .removing{height:0;overflow:hidden;padding:0;margin:0}.container .fa-xMark{height:20px;width:20px}'},3340:(t,e,s)=>{s.d(e,{A:()=>i});const i=new class{constructor(){this.registry=new Map}set(t,e){this.registry.set(t,e)}get(t){return this.registry.get(t)}clear(){this.registry.forEach((t,e)=>this.registry.delete(e))}}},6598:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var i=s(8404),o=s(2616),n=s(6854),a=s(2421),r=s(5910),l=s(2980),d=s(9125),u=s(4727),c=s(3340);class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.isReadyPromise=new Promise(t=>{this.resolveReady=t}),this.listener,this.customEventData={await:!1,awaitDetail:()=>0,eventName:"handleCustomEvent",details:""},this.unsubscribe,r.Yv.add(l.AEl)}connectedCallback(){this.render().then(()=>{this.resolveReady()}),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData),this.styling(),this.setupEventListener()}disconnectedCallback(){this.unsubscribe()}async render(){const t=`\n         <div class="container">\n            <fieldset>\n               <legend>Education</legend>\n               <div class="view">\n                 <button type="button" class="clickable add-btn" title="Add education">Add</button>\n                 ${this.customInput()} \n               </div>\n            </fieldset>\n         </div>\n         `;this.shadowRoot.innerHTML=i.A.sanitize(t),await new Promise(t=>requestAnimationFrame(()=>t()))}styling(){const t=new CSSStyleSheet;t.replaceSync(a.default.toString()),this.shadowRoot.adoptedStyleSheets=[t]}setupEventListener(){this.listener=new o.A(this),this.listener.setDelegates(this),this.listener.setDelegates(this.shadowRoot.querySelector(".add-btn")),this.shadowRoot.addEventListener("click",this.listener),this.shadowRoot.addEventListener("transitionend",this.listener),this.unsubscribe=u.A.subscribe("importDataLoaded",this.listener)}handleClick(t,e){if(e instanceof o.A){let e=t.target.closest(".clickable");if(!e)return;if(!this.shadowRoot.contains(e))return;switch(!0){case e.classList.contains("add-btn"):const t=this.customInput(),s=(new DOMParser).parseFromString(i.A.sanitize(t),"text/html").body.querySelector("custom-input");this.shadowRoot.querySelector("fieldset .view").append(s),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData);break;case e.classList.contains("delete-btn"):this.shadowRoot.querySelectorAll("custom-input").length>1&&e.closest("custom-input").classList.add("removing")}}else console.log("external")}handleTransitionend(t,e){if(e instanceof o.A){let e=t.target.closest(".transitionable");if(!e)return;if(!this.shadowRoot.contains(e))return;1==("custom-input"==e.tagName.toLowerCase())&&e.classList.contains("removing")&&(e.remove(),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData))}else console.log("external")}handleImportDataLoaded(t,e){if(e instanceof o.A){let e=this.shadowRoot.querySelector(".view");if(!e)return;if(!this.shadowRoot.contains(e))return;let s="";const i=this.shadowRoot.querySelectorAll("custom-input");Object.values(t.detail.data.owner.edu).forEach((t,e)=>{if(i[e])return this.shadowRoot.querySelector("custom-input").dataset.values=JSON.stringify(t);s+=this.customInput(t)});const o=(new DOMParser).parseFromString(s,"text/html"),n=new DocumentFragment;for(;o.body.firstChild;)n.append(o.body.firstChild);this.shadowRoot.querySelector(".view").append(n),this.importComplete(),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData)}else console.log("external")}importComplete(){if(c.A.registry.has("formLoaded")){const t=c.A.get("formLoaded").get("readyCnt")+1,e=c.A.get("formLoaded").get("formCnt");c.A.get("formLoaded").set("readyCnt",t),t==e&&(this.customEventData.await=!1,this.customEventData.awaitDetail=()=>0,this.customEventData.eventName="stopLoading",this.customEventData.details={},this.publishCustomEvent(this.customEventData))}else console.warn(`${this.constructor.name}: Please set default state for formLoaded before dispatch importDataLoaded event.`)}testDataInsert(){let t="";const e=this.shadowRoot.querySelectorAll("custom-input");Object.values(d.owner.edu).forEach((s,i)=>{if(e[i])return this.shadowRoot.querySelector("custom-input").dataset.values=JSON.stringify(s);t+=this.customInput(s)});const s=(new DOMParser).parseFromString(t,"text/html"),i=new DocumentFragment;for(;s.body.firstChild;)i.append(s.body.firstChild);this.shadowRoot.querySelector(".view").append(i)}customInput(t=""){const e=(0,r.Kk)(l.AEl,{classes:["fa-xMark","icon"]});return`\n      <custom-input \n        title="edu" \n        class="transitionable"\n        data-title='["field", "uni"]' \n        ${Object.entries(t).length>1?`data-values='${JSON.stringify(t)}'`:""}\n        data-attr='["field", "alma"]'\n        data-placeholder='["Certificate in Housemanship", "ABC College"]' \n        data-id='["hf_edu_field", "hf_edu_uni"]'\n        data-width='["20","20"]'\n     />\n        <label for="hf_edu_field" slot="label_0">Field</label>\n        <label for="hf_edu_uni" slot="label_1">Institute</label>\n        <button class="clickable delete-btn" type="button" title="Remove education">${e.node[0].outerHTML}</button> \n     </custom-input>\n    `}setValueRequestDetail(){this.customEventData.await=!1,this.customEventData.eventName="valueRequest",this.customEventData.details={[this.tagName.toLowerCase()]:this.shadowRoot.querySelectorAll("custom-input")}}async publishCustomEvent(t){try{t.await&&await t.awaitDetail();const e={bubbles:!0,composed:!0,detail:t.details};u.A.publish(t.eventName,e)}catch(e){console.error(`Failed to publish ${t.eventName} : ${e}`)}}}(0,n.Dp)("form-educations",h)}}]);
//# sourceMappingURL=6598.1c2942a96e319ad3d311.chunk.js.map