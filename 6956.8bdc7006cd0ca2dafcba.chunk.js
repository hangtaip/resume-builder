"use strict";(self.webpackChunkresume_builder=self.webpackChunkresume_builder||[]).push([[3735,6956],{3340:(t,e,s)=>{s.d(e,{A:()=>o});const o=new class{constructor(){this.registry=new Map}set(t,e){this.registry.set(t,e)}get(t){return this.registry.get(t)}clear(){this.registry.forEach((t,e)=>this.registry.delete(e))}}},3735:(t,e,s)=>{s.r(e),s.d(e,{default:()=>o});const o='*,*::before,*::after{box-sizing:border-box;scrollbar-width:thin}button{background:#fff;color:hsl(0,0%,-4999999.999999999%);border-radius:.25rem;padding:.5rem;padding-inline:.5rem;border-width:0;transition:color .3s ease-out}button:hover{cursor:pointer;background:#d3d3d3;color:hsl(0,0%,-3274509.803921567%);border-radius:0;transition:.3s ease-in}input:not([type=text]){cursor:pointer}.icon{height:.7rem;width:.7rem}button:has(.icon){display:flex;border-width:0;border-radius:.5rem;padding:0}legend{font-size:2ch;font-weight:bold}.hidden{display:none}.container{height:auto;width:auto;background-color:rgba(0,0,0,0);font-family:"Georgia","serif";font-size:1.6ch;word-spacing:.8ch;flex-flow:row wrap}.container fieldset{display:flex;flex-flow:row wrap;border:none}.container button{padding:.25rem;margin-left:auto}.container button.delete-btn{height:10px;display:inline-flex;align-items:center;border:none;padding:0;margin-top:10px;margin-left:auto}.container custom-input{flex:1 100%;transition:all .1s linear}.container label{flex:1 100%}.container .view{display:flex;flex-flow:row wrap;gap:.5rem;flex:1}.container .view:has(>custom-input:nth-of-type(2)) custom-input:not(:last-child){padding-bottom:.5rem;margin-bottom:.5rem;border-bottom:1px solid hsl(240,50%,80%)}.container .view:has(>custom-input:nth-of-type(2)) .delete-btn:hover{color:hsl(211,12%,66%);background-color:hsl(211,88%,34%)}.container .view:has(>custom-input:nth-of-type(2)) .delete-btn:active{transform:scale(0.9);filter:drop-shadow(4px 4px 4px hsl(270, 50%, 40%));transition:all .1s ease-in}.container .removing{height:0;overflow:hidden;padding:0;margin:0}.container .fa-xMark{height:20px;width:20px}'},6956:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var o=s(8404),i=s(2616),n=s(6854),a=s(3735),r=s(5910),l=s(2980),d=s(4727),c=s(3340);class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.isReadyPromise=new Promise(t=>{this.resolveReady=t}),this.listener,this.customEventData={await:!1,awaitDetail:()=>0,eventName:"handleCustomEvent",details:""},this.unsubscribe,r.Yv.add(l.AEl)}connectedCallback(){this.render().then(()=>{this.resolveReady()}),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData),this.styling(),this.setupEventListener()}disconnectedCallback(){this.unsubscribe()}async render(){const t=`\n         <div class="container">\n          <fieldset>\n            <legend>Skills</legend>\n            <div class="view">\n              <button class="clickable add-btn" type="button" title="Add education">Add</button>\n              ${this.customInput()} \n            </div>\n          </fieldset>\n         </div>\n         `;this.shadowRoot.innerHTML=o.A.sanitize(t),await new Promise(t=>requestAnimationFrame(()=>t()))}styling(){const t=new CSSStyleSheet;t.replaceSync(a.default.toString()),this.shadowRoot.adoptedStyleSheets=[t]}setupEventListener(){this.listener=new i.A(this),this.listener.setDelegates(this),this.listener.setDelegates(this.shadowRoot.querySelector(".add-btn")),this.shadowRoot.addEventListener("click",this.listener),this.shadowRoot.addEventListener("transitionend",this.listener),this.unsubscribe=d.A.subscribe("importDataLoaded",this.listener)}handleClick(t,e){if(e instanceof i.A){let e=t.target.closest(".clickable");if(!e)return;if(!this.shadowRoot.contains(e))return;switch(!0){case e.classList.contains("add-btn"):const t=this.customInput(),s=(new DOMParser).parseFromString(o.A.sanitize(t),"text/html").body.querySelector("custom-input");this.shadowRoot.querySelector("fieldset .view").append(s),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData);break;case e.classList.contains("delete-btn"):this.shadowRoot.querySelectorAll("custom-input").length>1&&e.closest("custom-input").classList.add("removing")}}else console.log("external")}handleTransitionend(t,e){if(e instanceof i.A){let e=t.target.closest(".transitionable");if(!e)return;if(!this.shadowRoot.contains(e))return;1==("custom-input"==e.tagName.toLowerCase())&&e.classList.contains("removing")&&(e.remove(),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData))}else console.log("external")}handleImportDataLoaded(t,e){if(e instanceof i.A){let e=this.shadowRoot.querySelector(".view");if(!e)return;if(!this.shadowRoot.contains(e))return;let s="";const o=this.shadowRoot.querySelectorAll("custom-input");Object.values(t.detail.data.owner.skills).forEach((t,e)=>{if(o[e])return this.shadowRoot.querySelector("custom-input").dataset.values=JSON.stringify(t);s+=this.customInput(t)});const i=(new DOMParser).parseFromString(s,"text/html"),n=new DocumentFragment;for(;i.body.firstChild;)n.append(i.body.firstChild);this.shadowRoot.querySelector(".view").append(n),this.importComplete(),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData)}else console.log("external")}importComplete(){if(c.A.registry.has("formLoaded")){const t=c.A.get("formLoaded").get("readyCnt")+1,e=c.A.get("formLoaded").get("formCnt");c.A.get("formLoaded").set("readyCnt",t),t==e&&(this.customEventData.await=!1,this.customEventData.awaitDetail=()=>0,this.customEventData.eventName="stopLoading",this.customEventData.details={},this.publishCustomEvent(this.customEventData))}else console.warn(`${this.constructor.name}: Please set default state for formLoaded before dispatch importDataLoaded event.`)}testDataInsert(){let t="";const e=this.shadowRoot.querySelectorAll("custom-input");Object.values(yaml.owner.skills).forEach((s,o)=>{if(e[o])return this.shadowRoot.querySelector("custom-input").dataset.values=JSON.stringify(s);t+=this.customInput(s)});const s=(new DOMParser).parseFromString(t,"text/html"),o=new DocumentFragment;for(;s.body.firstChild;)o.append(s.body.firstChild);this.shadowRoot.querySelector(".view").append(o)}customInput(t=""){const e=(0,r.Kk)(l.AEl,{classes:["fa-xMark","icon"]});return` \n      <custom-input \n        title="skills"\n        class="transitionable"\n        data-title='["name", "color"]' \n        ${Object.entries(t).length>1?`data-values='${JSON.stringify(t)}'`:""}\n        data-attr='["name", "color"]'\n        data-input-type='["text", "color"]' \n        data-placeholder='["Housemanship", "Green"]' \n        data-id='["hf_skills_name", "hf_skills_color"]'\n        data-form-group-item='["", "flex-0"]'\n        data-width='["20","2"]'\n      />\n         <label for="hf_skills_name" slot="label_0">Name</label>\n         <label for="hf_skills_color" slot="label_1">Color</label>\n         <button class="clickable delete-btn" type="button" title="Remove skill" >${e.node[0].outerHTML}</button> \n      </custom-input>\n    `}setValueRequestDetail(){this.customEventData.await=!1,this.customEventData.eventName="valueRequest",this.customEventData.details={[this.tagName.toLowerCase()]:this.shadowRoot.querySelectorAll("custom-input")}}async publishCustomEvent(t){try{t.await&&await t.awaitDetail();const e={bubbles:!0,composed:!0,detail:t.details};d.A.publish(t.eventName,e)}catch(e){console.error(`Failed to publish ${t.eventName} : ${e}`)}}}(0,n.Dp)("form-skills",h)}}]);
//# sourceMappingURL=6956.8bdc7006cd0ca2dafcba.chunk.js.map