{"version":3,"file":"1771.b9a7a9d4f0a081b8bbc4.chunk.js","mappings":"yMAMe,MAAMA,UAAgBC,YACnC,WAAAC,GACEC,QACAC,KAAKC,aAAa,CAAEC,KAAM,SAC1BF,KAAKG,SACLH,KAAKI,UAAYJ,KAAKK,QAAQC,OAAS,UACvCN,KAAKO,0BAA4BP,KAAKO,0BAA0BC,KAAKR,MACrEA,KAAKS,WACP,CAEA,iBAAAC,GACEV,KAAKW,qBACLX,KAAKY,SACLZ,KAAKa,SACP,CAEA,oBAAAC,GACEd,KAAKS,aACP,CAEA,MAAAG,GAOEZ,KAAKe,WAAWC,UAAY,IAAUC,SAN1B,uFAOd,CAEA,aAAMJ,GACJ,MAAMK,EAAQ,IAAIC,cAIlBD,EAAME,YAAY,UAAOC,YACzBrB,KAAKe,WAAWO,mBAAqB,CAACJ,EACxC,CAEA,kBAAAP,GACEX,KAAKG,SAAW,IAAI,IAASH,MAC7BA,KAAKG,SAASoB,aAAavB,MAC3BA,KAAKS,YAAc,IAAae,UAAU,sBAAuBxB,KAAKG,SACxE,CAEA,yBAAAI,CAA0BkB,EAAOC,GACjBA,aAAqB,IAGpBD,EAAME,OAAOC,KAAKC,MAAMC,MAChCC,OAAOC,KAAKC,IACfjC,KAAKe,WAAWmB,cAAc,QAAQ5B,MAAM6B,gBAAkB,OAAOC,KAAKC,MAAMJ,GAAKL,UAIvFU,QAAQC,IAAI,WAEhB,GAIF,QAAsB,WAAY3C,E","sources":["webpack://resume-builder/./src/pages/home/resume_classic/userPic/userPic.js"],"sourcesContent":["import DOMPurify from \"dompurify\";\nimport Listener from \"../../../../js/listener.js\";\nimport { registerCustomElement } from \"../../../../js/registerComponent.js\";\nimport styles from \"./userPic.shadow.scss\";\nimport eventManager from \"../../../../js/eventManager.js\";\n\nexport default class UserPic extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.listener;\n    this.styleType = this.dataset.style || \"default\";\n    this.handleFillResumeComponent = this.handleFillResumeComponent.bind(this);\n    this.unsubscribe;\n  }\n\n  connectedCallback() {\n    this.setupEventListener();\n    this.render();\n    this.styling();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const dom = `\n      <div class=\"container\">\n        <div class=\"pic\"></div>\n      </div>\n    `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n  }\n\n  async styling() {\n    const sheet = new CSSStyleSheet();\n    // sheet.replaceSync(styles);\n    // sheet.replaceSync(styles.toString());\n    // styles.use({ target: this.shadowRoot });\n    sheet.replaceSync(styles.toString());\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.unsubscribe = eventManager.subscribe(\"fillResumeComponent\", this.listener);\n  }\n\n  handleFillResumeComponent(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      const blob = event.detail.data.owner.image;\n      blob.text().then(src => {\n        this.shadowRoot.querySelector(\".pic\").style.backgroundImage = `url(${JSON.parse(src).data})`;\n      });\n\n    } else {\n      console.log(\"external\");\n    }\n  } \n}\n\n//customElements.define('page-body', Body);\nregisterCustomElement(\"user-pic\", UserPic);\n"],"names":["UserPic","HTMLElement","constructor","super","this","attachShadow","mode","listener","styleType","dataset","style","handleFillResumeComponent","bind","unsubscribe","connectedCallback","setupEventListener","render","styling","disconnectedCallback","shadowRoot","innerHTML","sanitize","sheet","CSSStyleSheet","replaceSync","toString","adoptedStyleSheets","setDelegates","subscribe","event","delegated","detail","data","owner","image","text","then","src","querySelector","backgroundImage","JSON","parse","console","log"],"sourceRoot":""}