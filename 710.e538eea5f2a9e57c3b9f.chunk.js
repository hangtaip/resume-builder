(self.webpackChunkresume_builder=self.webpackChunkresume_builder||[]).push([[710],{710:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var n=t(8404),a=t(2616),i=t(5052),r=t(6854),o=t(5910),l=t(2980),c=t(4727);t(3340);class d extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.isReadyPromise=new Promise(e=>{this.resolveReady=e}),this.formRequestPromise=new Promise(e=>{this.resolveFormRequestReady=e}),this.listener,this.customEventData={await:!1,awaitDetail:()=>0,eventName:"handleCustomEvent",details:""},this.styleType=this.dataset.style||"default",this.handleCompleteFormRequest=this.handleCompleteFormRequest.bind(this),this.unsubscribe,o.Yv.add(l.fPr)}connectedCallback(){this.setupEventListener(),this.render().then(()=>{this.resolveReady()}),this.styling()}disconnectedCallback(){this.unsubscribe()}genExpList(e){return e.desc.map(e=>{if(!(0,i.A)(e))return` \n              <li>${e}</li>\n            `}).join("")}async render(){const e=`\n        <div class="container">\n          <h3 class="header">\n            ${(0,o.Kk)(l.fPr,{classes:["fa-laptop-code"]}).node[0].outerHTML}\n            <span class="title">Experiences</span>\n          </h3>\n        </div>\n      `;this.shadowRoot.innerHTML=n.A.sanitize(e);const s=this.shadowRoot.querySelectorAll("img"),t=Array.from(s).map(e=>e.complete?Promise.resolve():new Promise(s=>{e.onload=s,e.onerror=s}));await Promise.all(t),await new Promise(e=>requestAnimationFrame(()=>e()))}appendData(e){let s="";const t=Object.values(e).toReversed().map(e=>((0,i.A)(e.tl_from)||(0,i.A)(e.tl_to)?!(0,i.A)(e.tl_from)&&(0,i.A)(e.tl_to)&&(s=`<span class="tl">${e.tl_from} - current</span>`):s=`<span class="tl">${e.tl_from} - ${e.tl_to}</span>`,`\n          <div class="card">\n            <div class="header">\n              <span class="pos">${e.pos}</span>\n              <span class="org">${e.org}</span>\n              ${s}  \n            </div>\n            <div class="body">\n              <ul>\n                ${this.genExpList(e)}\n              </ul>\n            </div>\n          </div>\n        `)),a=(new DOMParser).parseFromString(n.A.sanitize(t.join(" ")),"text/html"),r=new DocumentFragment;for(;a.body.firstChild;)r.append(a.body.firstChild);this.shadowRoot.querySelector(".container").append(r)}async styling(){const e=new CSSStyleSheet,s=await t(7785)(`./experiences-${this.styleType}.shadow.scss`);e.replaceSync(s.default),this.shadowRoot.adoptedStyleSheets=[e]}setupEventListener(){this.listener=new a.A(this),this.listener.setDelegates(this),this.unsubscribe=c.A.subscribe("completeFormRequest",this.listener)}async handleCompleteFormRequest(e,s){s instanceof a.A?(this.appendData(e.detail.data.owner.exp),await new Promise(e=>requestAnimationFrame(()=>e())).then(()=>{this.resolveFormRequestReady()})):console.log("external")}async publishCustomEvent(e){try{e.await&&await e.awaitDetail();const s={bubbles:!0,composed:!0,detail:e.details};c.A.publish(e.eventName,s)}catch(s){console.error(`Failed to publish ${e.eventName} : ${s}`)}}}(0,r.Dp)("user-experiences",d)},3340:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});const n=new class{constructor(){this.registry=new Map}set(e,s){this.registry.set(e,s)}get(e){return this.registry.get(e)}clear(){this.registry.forEach((e,s)=>this.registry.delete(s))}}},7785:(e,s,t)=>{var n={"./experiences-classic.shadow.scss":[3715,3715],"./experiences-default.shadow.scss":[6112,6112]};function a(e){if(!t.o(n,e))return Promise.resolve().then(()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s});var s=n[e],a=s[0];return t.e(s[1]).then(()=>t(a))}a.keys=()=>Object.keys(n),a.id=7785,e.exports=a}}]);
//# sourceMappingURL=710.e538eea5f2a9e57c3b9f.chunk.js.map