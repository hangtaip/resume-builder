"use strict";(self.webpackChunkresume_builder=self.webpackChunkresume_builder||[]).push([[5132,6670],{3340:(t,e,a)=>{a.d(e,{A:()=>i});const i=new class{constructor(){this.registry=new Map}set(t,e){this.registry.set(t,e)}get(t){return this.registry.get(t)}clear(){this.registry.forEach((t,e)=>this.registry.delete(e))}}},5132:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var i=a(8404),n=a(2616),o=a(6854),s=a(6670),l=a(5910),r=a(2980),d=a(675),c=a(4727),u=a(3340);class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.state=new Map,this.listener,this.customEventData={await:!1,awaitDetail:()=>0,eventName:"handleCustomEvent",details:""},this.unsubscribe,l.Yv.add(r.Cyq,r.QLR)}async connectedCallback(){await this.render(),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData),this.styling(),this.setupEventListener()}disconnectedCallback(){this.unsubscribe()}async render(){const t=`\n         <div class="container">\n            <fieldset>\n               <legend>Personal Details</legend>\n               <div class="view">\n                 ${this.customInput()} \n               </div>\n            </fieldset>\n         </div>\n         `;this.shadowRoot.innerHTML=i.A.sanitize(t),await new Promise(t=>setTimeout(t,0))}customInput(){const t=(0,l.Kk)(r.Cyq,{classes:["fa-image","icon"]});return`\n      <custom-input \n         title="Name" \n         data-title='["Name"]' \n         data-attr='["name"]'\n         data-placeholder='["Ali"]' \n         data-id='["hf_name"]'\n         data-width='["20"]'\n      />\n         <label for="hf_name" slot="label_0">Name</label>\n      </custom-input> \n      <custom-input \n         title="Title" \n         data-title='["Title"]' \n         data-attr='["title"]'\n         data-placeholder='["Waiter"]' \n         data-id='["hf_title"]'\n         data-width='["20"]'\n      />\n         <label for="hf_title" slot="label_0">Title</label>\n      </custom-input>\n      <custom-input \n         title="email" \n         data-title='["email"]' \n         data-attr='["email"]'\n         data-placeholder='["ali@emailProvider.com"]' \n         data-id='["hf_email"]'\n         data-width='["20"]'\n      />\n         <label for="hf_email" slot="label_0">Email</label>\n      </custom-input>\n      <custom-input \n         title="github" \n         data-title='["github"]' \n         data-attr='["github"]'\n         data-placeholder='["https://github.com/ali"]' \n         data-id='["hf_github"]'\n         data-width='["20"]'\n      />\n         <label for="hf_github" slot="label_0">Github</label>\n      </custom-input>\n      <custom-input \n         title="yob" \n         data-title='["yob"]' \n         data-attr='["yob"]'\n         data-placeholder='["1993"]' \n         data-id='["hf_yob"]'\n         data-width='["20"]'\n      />\n         <label for="hf_yob" slot="label_0">Year Of Birth</label>\n      </custom-input>\n      <custom-input \n         title="tel" \n         data-title='["tel"]' \n         data-attr='["tel"]'\n         data-placeholder='["012-345-6789/012-3456-7890"]' \n         data-id='["hf_tel"]'\n         data-width='["20"]'\n      />\n         <label for="hf_tel" slot="label_0">Telephone</label>\n      </custom-input>\n      <custom-input \n         title="country_code" \n         data-title='["country_code"]' \n         data-attr='["country_code"]'\n         data-placeholder='["my"]' \n         data-id='["hf_country_code"]'\n         data-width='["20"]'\n      />\n         <label for="hf_country_code" slot="label_0">Country Code</label>\n      </custom-input>\n      <custom-input \n         title="location" \n         data-title='["location"]' \n         data-attr='["location"]'\n         data-placeholder='["Malaysia"]' \n         data-id='["hf_location"]'\n         data-width='["20"]'\n      />\n         <label for="hf_location" slot="label_0">Location</label>\n      </custom-input>\n      <custom-input \n         title="objective" \n         data-title='["objective"]' \n         data-attr='["seek"]'\n         data-placeholder='["Manager"]' \n         data-id='["hf_seek"]'\n         data-width='["20"]'\n      />\n         <label for="hf_seek" slot="label_0">Position Applied</label>\n      </custom-input>\n      <custom-input \n         title="Motto" \n         data-title='["Motto"]' \n         data-attr='["motto"]'\n         data-placeholder='["To live is to serve!"]' \n         data-id='["hf_motto"]'\n         data-width='["20"]'\n      />\n         <label for="hf_motto" slot="label_0">Motto</label>\n      </custom-input> \n      <pimage>\n        <custom-input\n          title="image"\n          class="upload-img dropable"\n          data-attr='["image"]'\n          data-class='["hidden changeable upload-img"]'\n          data-title='["image"]'\n          data-input-type='["file"]'\n          data-id='["hf_image"]'\n        />\n          <div class="img_block">\n             <div class="img_add_block">${(0,l.Kk)(r.QLR,{classes:["fa-plus","icon"]}).node[0].outerHTML}</div>\n             <loading-block></loading-block>\n             <img alt="upload image" src="https://placehold.co/600x400" class="img-uploaded">\n          </div>\n          <button type="button" class="clickable upload-btn" title="Upload Image">${t.node[0].outerHTML}</button>\n         <label for="hf_image" slot="label_0">Image</label>\n        </custom-input>\n      </pimage>   \n    `}styling(){const t=new CSSStyleSheet;t.replaceSync(s.default.toString()),this.shadowRoot.adoptedStyleSheets=[t]}setupEventListener(){this.listener=new n.A(this),this.listener.setDelegates(this),this.listener.setDelegates(this.shadowRoot.querySelector(".upload-btn")),this.shadowRoot.addEventListener("click",this.listener),this.shadowRoot.querySelector(".upload-img").dataset.event=`${this.generateEvents()}`,this.unsubscribe=c.A.subscribe("importDataLoaded",this.listener)}handleClick(t,e){if(e instanceof n.A){let e=t.target.closest(".clickable");if(!e)return;if(!this.shadowRoot.contains(e))return;!0===e.classList.contains("upload-btn")&&this.shadowRoot.querySelector(".upload-img").shadowRoot.querySelector(".upload-img").click()}else console.log("external")}handleImportDataLoaded(t,e){if(e instanceof n.A){let e=this.shadowRoot.querySelector(".view");if(!e)return;if(!this.shadowRoot.contains(e))return;Array.from(e.querySelectorAll("custom-input")).forEach(e=>{const a=JSON.parse(e.dataset.attr)[0];e.dataset.values=`{ "${a}": "${t.detail.data.owner[a]}"}`||"","image"==a&&(this.shadowRoot.querySelector("img").src=t.detail.data.owner[a]||"https://placehold.co/600x400")}),this.importComplete(),this.setValueRequestDetail(),this.publishCustomEvent(this.customEventData)}else console.log("external")}importComplete(){if(u.A.registry.has("formLoaded")){const t=u.A.get("formLoaded").get("readyCnt")+1,e=u.A.get("formLoaded").get("formCnt");u.A.get("formLoaded").set("readyCnt",t),t==e&&(this.customEventData.await=!1,this.customEventData.awaitDetail=()=>0,this.customEventData.eventName="stopLoading",this.customEventData.details={},this.publishCustomEvent(this.customEventData))}else console.warn(`${this.constructor.name}: Please set default state for form before dispatch importDataLoaded event.`)}generateEvents(){return JSON.stringify(Object.assign(this.generateDropEvent(),this.generateUploadEvent(),this.generateDragoverEvent(),this.generateDragleaveEvent()))}generateUploadEvent(){return d.u.register("change","uploadEvent",function(t,e){if(e instanceof n.A){let e=t.target.closest(".changeable");if(!e)return;if(!this.shadowRoot.contains(e))return;if(!0===e.classList.contains("upload-img")){let t;e.files&&e.files[0]&&(t=new FileReader,this.querySelector("loading-block").classList.add("visible"),t.onload=t=>{this.querySelector("loading-block").classList.remove("visible");const e=this.shadowRoot.querySelector("slot[class=other]").assignedElements().find(t=>t.classList.contains("img_block"));e.style.backgroundImage=t.target.result,this.closest("pimage").querySelector("img").src=t.target.result},t.readAsDataURL(e.files[0]))}}}),{upload:{event:"change",name:"uploadEvent","switch-key":"upload-image",target:'this.shadowRoot.querySelector(".upload-img")',context:'this.shadowRoot.querySelector(".upload-img")'}}}generateDropEvent(){return d.u.register("drop","dropEvent",function(t,e){if(e instanceof n.A){t.preventDefault();let e=t.target.closest(".dropable");if(!e)return;if(!this.contains(e))return;if(!0===e.classList.contains("upload-img")){let e;t.dataTransfer.items?[...t.dataTransfer.items].forEach((t,a)=>{if(e=new FileReader,"file"===t.kind){const a=t.getAsFile();this.querySelector(".img_add_block").classList.remove("visible"),this.querySelector("loading-block").classList.add("visible"),e.onload=t=>{this.closest("pimage").querySelector("img").src=t.target.result,this.querySelector("loading-block").classList.remove("visible")},e.readAsDataURL(a)}}):[...t.dataTransfer.files].forEach((t,a)=>{this.querySelector(".img_add_block").classList.remove("visible"),this.querySelector("loading-block").classList.add("visible"),e.onload=t=>{this.closest("pimage").querySelector("img").src=t.target.result,this.querySelector("loading-block").classList.remove("visible")},e.readAsDataURL(t)})}}}),{drop:{event:"drop",name:"dropEvent","switch-key":"upload-image",target:'this.shadowRoot.querySelector(".upload-img")',context:"this"}}}generateDragoverEvent(){return d.u.register("dragover","dragoverEvent",function(t,e){if(e instanceof n.A){let e=t.target.closest(".dropable");if(!e)return;if(!this.contains(e))return;this.querySelector(".img_add_block").classList.add("visible"),t.preventDefault()}}),{dragover:{event:"dragover",name:"dragoverEvent","switch-key":"upload-image",target:'this.shadowRoot.querySelector(".upload-img")',context:"this"}}}generateDragleaveEvent(){return d.u.register("dragleave","dragleaveEvent",function(t,e){if(e instanceof n.A){let e=t.target.closest(".dropable");if(!e)return;if(!this.contains(e))return;this.querySelector(".img_add_block").classList.remove("visible"),t.preventDefault()}}),{dragleave:{event:"dragleave",name:"dragleaveEvent","switch-key":"upload-image",target:'this.shadowRoot.querySelector(".upload-img")',context:"this"}}}setValueRequestDetail(){this.customEventData.await=!1,this.customEventData.eventName="valueRequest",this.customEventData.details={[this.tagName.toLowerCase()]:this.shadowRoot.querySelectorAll("custom-input")}}async publishCustomEvent(t){try{t.await&&await t.awaitDetail();const e={bubbles:!0,composed:!0,detail:t.details};c.A.publish(t.eventName,e)}catch(e){console.error(`Failed to publish ${t.eventName} : ${e}`)}}}(0,o.Dp)("form-personal",h)},6670:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});const i='*,*::before,*::after{box-sizing:border-box;scrollbar-width:thin}button{background:#fff;color:hsl(0,0%,-4999999.999999999%);border-radius:.25rem;padding:.5rem;padding-inline:.5rem;border-width:0;transition:color .3s ease-out}button:hover{cursor:pointer;background:#d3d3d3;color:hsl(0,0%,-3274509.803921567%);border-radius:0;transition:.3s ease-in}input:not([type=text]){cursor:pointer}.icon{height:.7rem;width:.7rem}button:has(.icon){display:flex;border-width:0;border-radius:.5rem;padding:0}legend{font-size:2ch;font-weight:bold}.hidden{display:none}.container{height:auto;width:auto;background-color:rgba(0,0,0,0);font-family:"Georgia","serif";font-size:1.6ch;word-spacing:.8ch}.container fieldset{display:flex;flex-flow:row wrap;border:none}.container button{padding:.25rem;margin-left:auto}.container button.delete-btn{display:inline-flex;border:none;padding:0;margin-left:0}.container custom-input{flex:1 100%}.container label{width:8rem}.container pimage{display:flex;flex:1 100%}.container pimage .img_block{position:relative;display:flex;justify-content:center;align-items:center}.container pimage .img_add_block{height:100%;width:100%;opacity:.6;background:hsl(348,63%,47%);position:absolute;border-radius:.25rem;visibility:hidden}.container pimage loading-block{position:absolute;visibility:hidden}.container pimage img{height:100px;border-radius:.25rem}.container pimage .visible{visibility:visible}.container .view{display:flex;flex-flow:row wrap;gap:.5rem}.container .fa-image{height:20px;width:20px}.container .fa-plus{height:100%;width:100%;color:#fff}'}}]);
//# sourceMappingURL=5132.f25175d1df7727247c7e.chunk.js.map