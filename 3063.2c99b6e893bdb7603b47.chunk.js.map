{"version":3,"file":"3063.2c99b6e893bdb7603b47.chunk.js","mappings":"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","sources":["webpack://resume-builder/./src/components/details/ lazy ^\\.\\/details\\-.*\\.shadow\\.scss$ namespace object","webpack://resume-builder/./src/components/details/details.js","webpack://resume-builder/./src/js/objectRegistry.js"],"sourcesContent":["var map = {\n\t\"./details-classic.shadow.scss\": [\n\t\t9031,\n\t\t9031\n\t],\n\t\"./details-default.shadow.scss\": [\n\t\t3164,\n\t\t3164\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 1403;\nmodule.exports = webpackAsyncContext;","import DOMPurify from \"dompurify\";\nimport Listener from \"../../js/listener.js\";\n// import yaml from \"../../data/data.yaml\";\nimport country_codes from \"../../data/country_codes.yaml\";\nimport { registerCustomElement } from \"../../js/registerComponent.js\";\n// import styles from \"./details.shadow.scss\";\nimport { icon, library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faCalendarDays,\n  faDoorOpen,\n  faEnvelope,\n  faHouseUser,\n  faUser,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faGithub, faWhatsapp } from \"@fortawesome/free-brands-svg-icons\";\nimport eventManager from \"../../js/eventManager.js\";\nimport objectRegistry from \"../../js/objectRegistry.js\";\n\nexport default class UserDetails extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.isReadyPromise = new Promise(resolve => {\n      this.resolveReady = resolve;\n    });\n    this.formRequestPromise = new Promise(resolve => {\n      this.resolveFormRequestReady = resolve;\n    });\n    this.listener;\n    this.styleType = this.dataset.style || \"default\";\n    this.unsubscribe;\n    library.add(\n      faCalendarDays,\n      faEnvelope,\n      faGithub,\n      faHouseUser,\n      faUser,\n      faWhatsapp,\n    ); \n  }\n\n  connectedCallback() {\n    // this.testRender();\n    this.render().then(() => {\n      this.resolveReady();\n    });\n    this.styling();\n    this.setupEventListener();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n  }\n\n  async render() {\n    const calendar = icon(faCalendarDays, { classes: [\"fa-calender\", \"icon\"] });\n    const github = icon(faGithub, { classes: [\"fa-github\", \"icon\"] });\n    const house = icon(faHouseUser, { classes: [\"fa-house\", \"icon\"] });\n    const mail = icon(faEnvelope, { classes: [\"fa-envelope\", \"icon\"] });\n    const rezeki = icon(faDoorOpen, { classes: [\"fa-doorOpen\", \"icon\"] });\n    const user = icon(faUser, { classes: [\"fa-user\", \"icon\"] });\n    const whatsapp = icon(faWhatsapp, { classes: [\"fa-whatsapp\", \"icon\"] });\n    // const getCC = (obj) => {\n    //   return `+${country_codes[obj]}`;\n    // };\n\n    const dom = `\n      <div class=\"container\">\n        <div class=\"pic\">\n          <user-pic></user-pic>\n        </div>\n        <div class=\"info\">\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${user.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"name\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${calendar.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"yob\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${whatsapp.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"contact\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${mail.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"email\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${github.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"github\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${house.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"location\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${rezeki.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"seek\"></span>\n            </div>\n          </div>\n        </div>\n        <div class=\"motto\">\n          <div class=\"field\">\n            <p class=\"data\" data-attr=\"motto\"></p>\n          </div>\n        </div>\n      </div>\n    `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n\n    const images = this.shadowRoot.querySelectorAll(\"img\");\n    const imagePromises = Array.from(images).map(img => {\n      if (img.complete) return Promise.resolve();\n      return new Promise(resolve => { \n        img.onload = resolve; \n        img.onerror = resolve; \n      });\n    });\n\n    await Promise.all(imagePromises);\n    await new Promise(resolve => requestAnimationFrame(() => resolve()));\n  }\n\n  async styling() {\n    const sheet = new CSSStyleSheet();\n    // sheet.replaceSync(styles);\n    //const cssModule = import('./details.shadow.scss');\n    // sheet.replaceSync(styles.toString());\n    // styles.use({ target: this.shadowRoot });\n    const style = await import(`./details-${this.styleType}.shadow.scss`);\n    sheet.replaceSync(style.default);\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.unsubscribe = eventManager.subscribe(\"completeFormRequest\", this.listener);\n  }\n\n  async handleCompleteFormRequest(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      let contact = [];\n\n      this.shadowRoot.querySelectorAll(\".field\").forEach(node => { \n        node.querySelector(\".data\").textContent = event.detail.data.owner[node.querySelector(\".data\").dataset.attr];\n      });\n\n      this.shadowRoot.querySelector(`.field [data-attr=\"contact\"]`).textContent = `${this.getCC(event.detail.data.owner.country_code)} ${event.detail.data.owner.tel}`;\n\n      if (Object.values(event.detail.data.owner.skills).length > 9) {\n        this.shadowRoot.querySelector(\".container\").classList.add(\"all-fullWidth\");\n      }\n\n      await new Promise(resolve => requestAnimationFrame(() => resolve())).then(() => {\n        this.resolveFormRequestReady();\n      });\n    } else {\n      console.log(\"external\");\n    } \n  }\n\n  // testRender() {\n  //   const calendar = icon(faCalendarDays, { classes: [\"fa-calender\", \"icon\"] });\n  //   const github = icon(faGithub, { classes: [\"fa-github\", \"icon\"] });\n  //   const house = icon(faHouseUser, { classes: [\"fa-house\", \"icon\"] });\n  //   const mail = icon(faEnvelope, { classes: [\"fa-envelope\", \"icon\"] });\n  //   const rezeki = icon(faDoorOpen, { classes: [\"fa-doorOpen\", \"icon\"] });\n  //   const user = icon(faUser, { classes: [\"fa-user\", \"icon\"] });\n  //   const whatsapp = icon(faWhatsapp, { classes: [\"fa-whatsapp\", \"icon\"] });\n  //   const getCC = (obj) => {\n  //     return `+${country_codes[obj]}`;\n  //   };\n  //\n  //   const dom = `\n  //     <div class=\"container\">\n  //       <div class=\"pic\">\n  //         <user-pic></user-pic>\n  //       </div>\n  //       <div class=\"info\">\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${user.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"name\">${yaml.owner.name}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${calendar.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"yob\">${yaml.owner.yob}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${whatsapp.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"contact\">${this.getCC(yaml.owner.country_code)} ${yaml.owner.tel}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${mail.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"email\">${yaml.owner.email}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${github.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"github\">${yaml.owner.github}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${house.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"location\">${yaml.owner.location}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${rezeki.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"seek\">${yaml.owner.seek}</span>\n  //           </div>\n  //         </div>\n  //       </div>\n  //       <div class=\"motto\">\n  //         <div>\n  //           <p data-attr=\"motto\">\n  //             ${yaml.owner.motto}\n  //           </p>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   `;\n  //\n  //   this.shadowRoot.innerHTML = DOMPurify.sanitize(dom)\n  // }\n\n  getCC(obj) {\n      return country_codes[obj] ? `+${country_codes[obj]}` : \"\";\n  }; \n\n  async publishCustomEvent(data) {\n    try {\n      if (data.await) {\n        await data.awaitDetail();\n      }\n\n      const eventDetail = {\n        bubbles: true,\n        composed: true,\n        detail: data.details,\n      };\n\n      eventManager.publish(data.eventName, eventDetail);\n    } catch (err) {\n      console.error(`Failed to publish ${data.eventName} : ${err}`);\n    }\n  }\n}\n\n//customElements.define('user-details', UserDetails);\nregisterCustomElement(\"user-details\", UserDetails);\n","class ObjectRegistry {\n  constructor() {\n    this.registry = new Map();\n  }\n\n  set(key, value) {\n    this.registry.set(key, value);\n  }\n\n  get(key) {\n    return this.registry.get(key);\n  }\n\n  clear() {\n    this.registry.forEach((_, key) => this.registry.delete(key));\n  }\n}\n\nexport default new ObjectRegistry();\n"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","UserDetails","HTMLElement","constructor","super","this","attachShadow","mode","isReadyPromise","resolveReady","formRequestPromise","resolveFormRequestReady","listener","styleType","dataset","style","unsubscribe","add","connectedCallback","render","styling","setupEventListener","disconnectedCallback","calendar","classes","github","house","mail","rezeki","user","whatsapp","dom","node","outerHTML","shadowRoot","innerHTML","sanitize","images","querySelectorAll","imagePromises","Array","from","img","complete","onload","onerror","all","requestAnimationFrame","sheet","CSSStyleSheet","replaceSync","default","adoptedStyleSheets","setDelegates","eventManager","subscribe","handleCompleteFormRequest","event","delegated","forEach","querySelector","textContent","detail","data","owner","attr","getCC","country_code","tel","values","skills","length","classList","console","log","obj","publishCustomEvent","await","awaitDetail","eventDetail","bubbles","composed","details","publish","eventName","err","error","registry","Map","set","key","value","get","clear","_","delete"],"sourceRoot":""}