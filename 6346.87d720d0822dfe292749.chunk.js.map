{"version":3,"file":"6346.87d720d0822dfe292749.chunk.js","mappings":"sjCAOe,MAAMA,UAAiBC,YACpC,WAAAC,GACEC,QACAC,KAAKC,aAAa,CAAEC,KAAM,SAC1BF,KAAKG,SACLH,KAAKI,gBAAkB,CACrBC,OAAO,EACPC,YAAW,IACF,EAETC,UAAW,oBACXC,QAAS,IAEXR,KAAKS,SAAW,CACd,CACEC,KAAM,6BACNC,QAAS,eACTC,WAAY,cAEd,CACEF,KAAM,mCACNC,QAAS,kBACTC,WAAY,cAEd,CACA,CACEF,KAAM,+BACNC,QAAS,gBACTC,WAAY,cAEd,CACEF,KAAM,2BACNC,QAAS,cACTC,WAAY,cAEd,CACEF,KAAM,mCACNC,QAAS,kBACTC,WAAY,cAEd,CACEF,KAAM,qCACNC,QAAS,mBACTC,WAAY,cAGlB,CAEA,uBAAMC,SACEb,KAAKc,iBACXd,KAAKe,SACLf,KAAKgB,UACLhB,KAAKiB,qBACLjB,KAAKkB,gBACP,CAEA,oBAAMJ,GAcJ,GAbsB,CACpBK,eAAeC,IAAI,gBACnBD,eAAeC,IAAI,mBACnBD,eAAeC,IAAI,iBACnBD,eAAeC,IAAI,eACnBD,eAAeC,IAAI,mBACnBD,eAAeC,IAAI,qBAGoBC,OACtCC,GAASA,GAAwB,mBAATA,GAGJC,OAAS,QACxB,IAAIC,QAASC,GAAYC,sBAAsB,IAAMD,UACtD,CACL,MAAME,GAAe,QAAc3B,KAAKS,gBAClCe,QAAQI,IAAID,EACpB,CACF,CAEA,MAAAZ,GAYEf,KAAK6B,WAAWC,UAAY,IAAUC,SAX1B,mTAYd,CAEA,OAAAf,GACE,MAAMgB,EAAQ,IAAIC,cAClBD,EAAME,YAAY,UAAOC,YACzBnC,KAAK6B,WAAWO,mBAAqB,CAACJ,EACxC,CAEA,kBAAAf,GACEjB,KAAKG,SAAW,IAAI,IAASH,KAE/B,CAEA,wBAAMqC,CAAmBC,GACvB,IACMA,EAAKjC,aACDiC,EAAKhC,cAGb,MAAMiC,EAAc,CAClBC,SAAS,EACTC,UAAU,EACVC,OAAQJ,EAAK9B,SAGf,IAAamC,QAAQL,EAAK/B,UAAWgC,EACvC,CAAE,MAAOK,GACPC,QAAQC,MAAM,qBAAqBR,EAAK/B,eAAeqC,IACzD,CACF,CAEA,oBAAM1B,GACJ,MAOM6B,EAPgB,CACpB/C,KAAK6B,WAAWmB,cAAc,iBAC9BhD,KAAK6B,WAAWmB,cAAc,eAC9BhD,KAAK6B,WAAWmB,cAAc,mBAC9BhD,KAAK6B,WAAWmB,cAAc,qBAGS3B,OAAOC,GAAQA,GAAuC,iBAAxBA,EAAK2B,gBAExEF,EAAmBxB,OAAS,QACxBC,QAAQI,IAAImB,EAAmBG,IAAI5B,GAAQA,EAAK2B,uBAEhD,IAAIzB,QAAQC,GAAWC,sBAAsB,IAAMA,sBAAsBD,KAGjF,MAAM0B,EAAcC,SAASC,MAAQD,SAASC,MAAMC,MAAQ9B,QAAQC,gBAC9DD,QAAQI,IAAI,CAACuB,IAEnBnD,KAAK6B,WAAWmB,cAAc,cAAcO,UAAUC,IAAI,WAE1DxD,KAAKI,gBAAgBC,OAAQ,EAC7BL,KAAKI,gBAAgBE,YAAc,IAC1B,EAETN,KAAKI,gBAAgBG,UAAY,cACjCP,KAAKI,gBAAgBI,QAAU,CAAC,EAChCR,KAAKqC,mBAAmBrC,KAAKI,gBAC/B,GAGF,QAAsB,YAAaR,E","sources":["webpack://resume-builder/./src/components/homeForm/homeForm.js"],"sourcesContent":["import DOMPurify from \"dompurify\";\nimport Listener from \"../../js/listener.js\";\nimport { registerCustomElement } from \"../../js/registerComponent\";\nimport { loadComponent } from \"../../js/helper.js\";\nimport styles from \"./homeForm.shadow.scss\";\nimport eventManager from \"../../js/eventManager.js\";\n\nexport default class HomeForm extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.listener;\n    this.customEventData = {\n      await: false,\n      awaitDetail() {\n        return 0;\n      },\n      eventName: \"handleCustomEvent\",\n      details: \"\",\n    };\n    this.compList = [\n      {\n        path: \"customInput/customInput.js\",\n        tagName: \"custom-input\",\n        folderType: \"components\",\n      },\n      {\n        path: \"customTextarea/customTextarea.js\",\n        tagName: \"custom-textarea\",\n        folderType: \"components\",\n      },\n      ,\n      {\n        path: \"formPersonal/formPersonal.js\",\n        tagName: \"form-personal\",\n        folderType: \"components\",\n      },\n      {\n        path: \"formSkills/formSkills.js\",\n        tagName: \"form-skills\",\n        folderType: \"components\",\n      },\n      {\n        path: \"formEducations/formEducations.js\",\n        tagName: \"form-educations\",\n        folderType: \"components\",\n      },\n      {\n        path: \"formExperiences/formExperiences.js\",\n        tagName: \"form-experiences\",\n        folderType: \"components\",\n      },\n    ];\n  }\n\n  async connectedCallback() {\n    await this.loadComponents();\n    this.render();\n    this.styling();\n    this.setupEventListener();\n    this.componentReady();\n  }\n\n  async loadComponents() {\n    const subComponents = [\n      customElements.get(\"custom-input\"),\n      customElements.get(\"custom-textarea\"),\n      customElements.get(\"form-personal\"),\n      customElements.get(\"form-skills\"),\n      customElements.get(\"form-educations\"),\n      customElements.get(\"form-experiences\"),\n    ];\n\n    const validSubComponents = subComponents.filter(\n      (comp) => comp && typeof comp === \"function\",\n    );\n\n    if (validSubComponents.length > 0) {\n      await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n    } else {\n      const compPromises = loadComponent(this.compList);\n      await Promise.all(compPromises);\n    }\n  }\n\n  render() {\n    const dom = `\n         <div class=\"container\">\n            <form>\n               <form-personal></form-personal>\n               <form-educations></form-educations> \n               <form-skills></form-skills> \n               <form-experiences></form-experiences> \n            </form>\n         </div>\n         `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n  }\n\n  styling() {\n    const sheet = new CSSStyleSheet();\n    sheet.replaceSync(styles.toString());\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    // this.addEventListener(\"click\", this.listener);\n  }\n\n  async publishCustomEvent(data) {\n    try {\n      if (data.await) {\n        await data.awaitDetail();\n      }\n\n      const eventDetail = {\n        bubbles: true,\n        composed: true,\n        detail: data.details,\n      };\n\n      eventManager.publish(data.eventName, eventDetail);\n    } catch (err) {\n      console.error(`Failed to publish ${data.eventName} : ${err}`);\n    }\n  }\n\n  async componentReady() {\n    const subComponents = [\n      this.shadowRoot.querySelector(\"form-personal\"),\n      this.shadowRoot.querySelector(\"form-skills\"),\n      this.shadowRoot.querySelector(\"form-educations\"),\n      this.shadowRoot.querySelector(\"form-experiences\"),\n    ];\n\n    const validSubComponents = subComponents.filter(comp => comp && typeof comp.isReadyPromise === \"object\");\n\n    if (validSubComponents.length > 0) {\n      await Promise.all(validSubComponents.map(comp => comp.isReadyPromise));\n    } else {\n      await new Promise(resolve => requestAnimationFrame(() => requestAnimationFrame(resolve)));\n    }\n\n    const fontPromise = document.fonts ? document.fonts.ready : Promise.resolve();\n    await Promise.all([fontPromise]);   \n\n    this.shadowRoot.querySelector(\".container\").classList.add(\"visible\");\n\n    this.customEventData.await = false;\n    this.customEventData.awaitDetail = () => {\n      return 0;\n    };\n    this.customEventData.eventName = \"stopLoading\";\n    this.customEventData.details = {};\n    this.publishCustomEvent(this.customEventData);\n  }\n}\n\nregisterCustomElement(\"home-form\", HomeForm);\n"],"names":["HomeForm","HTMLElement","constructor","super","this","attachShadow","mode","listener","customEventData","await","awaitDetail","eventName","details","compList","path","tagName","folderType","connectedCallback","loadComponents","render","styling","setupEventListener","componentReady","customElements","get","filter","comp","length","Promise","resolve","requestAnimationFrame","compPromises","all","shadowRoot","innerHTML","sanitize","sheet","CSSStyleSheet","replaceSync","toString","adoptedStyleSheets","publishCustomEvent","data","eventDetail","bubbles","composed","detail","publish","err","console","error","validSubComponents","querySelector","isReadyPromise","map","fontPromise","document","fonts","ready","classList","add"],"sourceRoot":""}