{"version":3,"file":"7731.1c5e8f1c8c0a1757fdfd.chunk.js","mappings":"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","sources":["webpack://resume-builder/./src/pages/home/resume_classic/details/details.js"],"sourcesContent":["import DOMPurify from \"dompurify\";\nimport Listener from \"../../../../js/listener.js\";\n// import yaml from \"../../data/data.yaml\";\nimport country_codes from \"../../../../data/country_codes.yaml\";\nimport { registerCustomElement } from \"../../../../js/registerComponent.js\";\nimport styles from \"./details.shadow.scss\";\nimport { icon, library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faCalendarDays,\n  faDoorOpen,\n  faEnvelope,\n  faHouseUser,\n  faUser,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faGithub, faWhatsapp } from \"@fortawesome/free-brands-svg-icons\";\nimport eventManager from \"../../../../js/eventManager.js\";\nimport { isTextSingleLine } from \"../../../../js/helper.js\";\n\nexport default class UserDetailsClassic extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.isReadyPromise = new Promise((resolve) => {\n      this.resolveReady = resolve;\n    });\n    this.formRequestPromise = new Promise((resolve) => {\n      this.resolveFormRequestReady = resolve;\n    });\n    this.listener;\n    this.handleFillResumeComponent = this.handleFillResumeComponent.bind(this);\n    this.unsubscribe;\n    library.add(\n      faCalendarDays,\n      faEnvelope,\n      faGithub,\n      faHouseUser,\n      faUser,\n      faWhatsapp,\n    );\n  }\n\n  connectedCallback() {\n    this.setupEventListener();\n    // this.testRender();\n    this.render().then(() => {\n      this.resolveReady();\n    });\n    this.styling();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n  }\n\n  async render() {\n    const calendar = icon(faCalendarDays, { classes: [\"fa-calender\", \"icon\"] });\n    const github = icon(faGithub, { classes: [\"fa-github\", \"icon\"] });\n    const house = icon(faHouseUser, { classes: [\"fa-house\", \"icon\"] });\n    const mail = icon(faEnvelope, { classes: [\"fa-envelope\", \"icon\"] });\n    const rezeki = icon(faDoorOpen, { classes: [\"fa-doorOpen\", \"icon\"] });\n    const user = icon(faUser, { classes: [\"fa-user\", \"icon\"] });\n    const whatsapp = icon(faWhatsapp, { classes: [\"fa-whatsapp\", \"icon\"] });\n    // const getCC = (obj) => {\n    //   return `+${country_codes[obj]}`;\n    // };\n\n    const dom = `\n      <div class=\"container\">\n        <div class=\"info\">\n          <div class=\"attr box-name\">\n            <div class=\"field\">\n              <span class=\"data\" data-attr=\"name\"></span>\n            </div>\n          </div>\n          <div class=\"attrs box-info-additional\">\n            <div class=\"card\">\n              <div class=\"attr\">\n                <div class=\"field\">\n                  <span class=\"data\" data-attr=\"location\"></span>\n                </div>\n              </div>\n              <div class=\"attr box-contact\">\n                <div class=\"field\">\n                  <span class=\"data\" data-attr=\"contact\"></span>\n                </div>\n              </div>\n              <div class=\"attr\">\n                <div class=\"field\">\n                  <span class=\"data\" data-attr=\"email\"></span>\n                </div>\n              </div>\n              <div class=\"attr\">\n                <div class=\"field\">\n                  <span class=\"data\" data-attr=\"github\"></span>\n                </div>\n              </div>  \n            </div>\n          </div> \n        </div>\n        <div class=\"motto\">\n          <h3 class=\"header\">\n            <span>Objective</span>\n          </h3>\n          <div class=\"field\">\n            <p class=\"data\" data-attr=\"motto\"></p>\n          </div>\n        </div>\n      </div>\n    `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n\n    const images = this.shadowRoot.querySelectorAll(\"img\");\n    const imagePromises = Array.from(images).map((img) => {\n      if (img.complete) return Promise.resolve();\n      return new Promise((resolve) => {\n        img.onload = resolve;\n        img.onerror = resolve;\n      });\n    });\n\n    await Promise.all(imagePromises);\n    await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n  }\n\n  async styling() {\n    const sheet = new CSSStyleSheet();\n    // sheet.replaceSync(styles);\n    //const cssModule = import('./details.shadow.scss');\n    // sheet.replaceSync(styles.toString());\n    // styles.use({ target: this.shadowRoot });\n    // const style = await import(`./details-${this.dataset.templateStyle}.shadow.scss`);\n    sheet.replaceSync(styles.toString());\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.unsubscribe = eventManager.subscribe(\n      \"fillResumeComponent\",\n      this.listener,\n    );\n  }\n\n  async handleFillResumeComponent(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      // console.log(event.detail.data.owner);\n      const blob = event.detail.data.owner.image;\n      blob?.text().then((src) => {\n        const data = JSON.parse(src).data;\n        if (data && data.includes(\"https://placehold.co/600x400\")) {\n          this.shadowRoot.querySelector(\".container\").classList.add(\"no-pic\");\n        } else {\n          this.shadowRoot\n            .querySelector(\".container\")\n            .classList.remove(\"no-pic\");\n        }\n      });\n      this.shadowRoot.querySelectorAll(\".field\").forEach((node) => {\n        node.querySelector(\".data\").textContent =\n          event.detail.data.owner[node.querySelector(\".data\").dataset.attr];\n\n        // if (node.querySelector(\".data\").dataset.attr == \"motto\") {\n        //   node.querySelector(\".data\").textContent = \"Advocating for justice, one case at a time. Advocating for justice, one case at a time. Advocating for justice, one case at a time. Advocating for justice, one case at a time. Advocating for justice, one case at a time. Advocating for justice, one case at a time. Advocating for justice, one case at a time.\"; \n        // }\n      });\n\n      this.shadowRoot.querySelector(\n        `.field [data-attr=\"contact\"]`,\n      ).textContent =\n        `${this.getCC(event.detail.data.owner.country_code)} ${event.detail.data.owner.tel}`;\n\n      if (Object.values(event.detail.data.owner.skills).length > 9) {\n        this.shadowRoot\n          .querySelector(\".container\")\n          .classList.add(\"all-fullWidth\");\n      }\n\n      const objDiv = this.shadowRoot.querySelector(\".motto .data\");\n      const objTextSingleLine = isTextSingleLine(objDiv);\n      !objTextSingleLine && objDiv.classList.add(\"multiline\");\n\n      await new Promise((resolve) =>\n        requestAnimationFrame(() => resolve()),\n      ).then(() => {\n        this.resolveFormRequestReady();\n      });\n    } else {\n      console.log(\"external\");\n    }\n  } \n\n  // testRender() {\n  //   const calendar = icon(faCalendarDays, { classes: [\"fa-calender\", \"icon\"] });\n  //   const github = icon(faGithub, { classes: [\"fa-github\", \"icon\"] });\n  //   const house = icon(faHouseUser, { classes: [\"fa-house\", \"icon\"] });\n  //   const mail = icon(faEnvelope, { classes: [\"fa-envelope\", \"icon\"] });\n  //   const rezeki = icon(faDoorOpen, { classes: [\"fa-doorOpen\", \"icon\"] });\n  //   const user = icon(faUser, { classes: [\"fa-user\", \"icon\"] });\n  //   const whatsapp = icon(faWhatsapp, { classes: [\"fa-whatsapp\", \"icon\"] });\n  //   const getCC = (obj) => {\n  //     return `+${country_codes[obj]}`;\n  //   };\n  //\n  //   const dom = `\n  //     <div class=\"container\">\n  //       <div class=\"pic\">\n  //         <user-pic></user-pic>\n  //       </div>\n  //       <div class=\"info\">\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${user.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"name\">${yaml.owner.name}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${calendar.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"yob\">${yaml.owner.yob}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${whatsapp.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"contact\">${this.getCC(yaml.owner.country_code)} ${yaml.owner.tel}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${mail.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"email\">${yaml.owner.email}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${github.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"github\">${yaml.owner.github}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${house.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"location\">${yaml.owner.location}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${rezeki.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"seek\">${yaml.owner.seek}</span>\n  //           </div>\n  //         </div>\n  //       </div>\n  //       <div class=\"motto\">\n  //         <div>\n  //           <p data-attr=\"motto\">\n  //             ${yaml.owner.motto}\n  //           </p>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   `;\n  //\n  //   this.shadowRoot.innerHTML = DOMPurify.sanitize(dom)\n  // }\n\n  getCC(obj) {\n    return country_codes[obj] ? `+${country_codes[obj]}` : \"\";\n  }\n\n  async publishCustomEvent(data) {\n    try {\n      if (data.await) {\n        await data.awaitDetail();\n      }\n\n      const eventDetail = {\n        bubbles: true,\n        composed: true,\n        detail: data.details,\n      };\n\n      eventManager.publish(data.eventName, eventDetail);\n    } catch (err) {\n      console.error(`Failed to publish ${data.eventName} : ${err}`);\n    }\n  }\n}\n\n//customElements.define('user-details', UserDetails);\nregisterCustomElement(\"user-details-classic\", UserDetailsClassic);\n"],"names":["UserDetailsClassic","HTMLElement","constructor","super","this","attachShadow","mode","isReadyPromise","Promise","resolve","resolveReady","formRequestPromise","resolveFormRequestReady","listener","handleFillResumeComponent","bind","unsubscribe","add","connectedCallback","setupEventListener","render","then","styling","disconnectedCallback","classes","shadowRoot","innerHTML","sanitize","images","querySelectorAll","imagePromises","Array","from","map","img","complete","onload","onerror","all","requestAnimationFrame","sheet","CSSStyleSheet","replaceSync","toString","adoptedStyleSheets","setDelegates","subscribe","event","delegated","blob","detail","data","owner","image","text","src","JSON","parse","includes","querySelector","classList","remove","forEach","node","textContent","dataset","attr","getCC","country_code","tel","Object","values","skills","length","objDiv","console","log","obj","publishCustomEvent","await","awaitDetail","eventDetail","bubbles","composed","details","publish","eventName","err","error"],"sourceRoot":""}