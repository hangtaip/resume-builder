{"version":3,"file":"4179.cc76ed61f634cd547996.chunk.js","mappings":"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","sources":["webpack://resume-builder/./src/js/objectRegistry.js","webpack://resume-builder/./src/pages/home/resume_default/details/details.js","webpack://resume-builder/./src/pages/home/resume_default/details/ lazy ^\\.\\/details\\-.*\\.shadow\\.scss$ namespace object"],"sourcesContent":["class ObjectRegistry {\n  constructor() {\n    this.registry = new Map();\n  }\n\n  set(key, value) {\n    this.registry.set(key, value);\n  }\n\n  get(key) {\n    return this.registry.get(key);\n  }\n\n  clear() {\n    this.registry.forEach((_, key) => this.registry.delete(key));\n  }\n}\n\nexport default new ObjectRegistry();\n","import DOMPurify from \"dompurify\";\nimport Listener from \"../../../../js/listener.js\";\n// import yaml from \"../../data/data.yaml\";\nimport country_codes from \"../../../../data/country_codes.yaml\";\nimport { registerCustomElement } from \"../../../../js/registerComponent.js\";\n// import styles from \"./details.shadow.scss\";\nimport { icon, library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faCalendarDays,\n  faDoorOpen,\n  faEnvelope,\n  faHouseUser,\n  faUser,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faGithub, faWhatsapp } from \"@fortawesome/free-brands-svg-icons\";\nimport eventManager from \"../../../../js/eventManager.js\";\nimport objectRegistry from \"../../../../js/objectRegistry.js\";\n\nexport default class UserDetails extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.isReadyPromise = new Promise(resolve => {\n      this.resolveReady = resolve;\n    });\n    this.formRequestPromise = new Promise(resolve => {\n      this.resolveFormRequestReady = resolve;\n    });\n    this.listener;\n    this.styleType = this.dataset.style || \"default\";\n    this.handleFillResumeComponent = this.handleFillResumeComponent.bind(this);\n    this.unsubscribe;\n    library.add(\n      faCalendarDays,\n      faEnvelope,\n      faGithub,\n      faHouseUser,\n      faUser,\n      faWhatsapp,\n    ); \n  }\n\n  connectedCallback() {\n    this.setupEventListener();\n    // this.testRender();\n    this.render().then(() => {\n      this.resolveReady();\n    });\n    this.styling();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n  }\n\n  async render() {\n    const calendar = icon(faCalendarDays, { classes: [\"fa-calender\", \"icon\"] });\n    const github = icon(faGithub, { classes: [\"fa-github\", \"icon\"] });\n    const house = icon(faHouseUser, { classes: [\"fa-house\", \"icon\"] });\n    const mail = icon(faEnvelope, { classes: [\"fa-envelope\", \"icon\"] });\n    const rezeki = icon(faDoorOpen, { classes: [\"fa-doorOpen\", \"icon\"] });\n    const user = icon(faUser, { classes: [\"fa-user\", \"icon\"] });\n    const whatsapp = icon(faWhatsapp, { classes: [\"fa-whatsapp\", \"icon\"] });\n    // const getCC = (obj) => {\n    //   return `+${country_codes[obj]}`;\n    // };\n\n    const dom = `\n      <div class=\"container\">\n        <div class=\"pic\">\n          <user-pic></user-pic>\n        </div>\n        <div class=\"info\">\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${user.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"name\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${calendar.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"yob\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${whatsapp.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"contact\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${mail.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"email\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${github.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"github\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${house.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"location\"></span>\n            </div>\n          </div>\n          <div class=\"attr\">\n            <div class=\"field\">\n              ${rezeki.node[0].outerHTML}\n              <span class=\"data\" data-attr=\"seek\"></span>\n            </div>\n          </div>\n        </div>\n        <div class=\"motto\">\n          <div class=\"field\">\n            <p class=\"data\" data-attr=\"motto\"></p>\n          </div>\n        </div>\n      </div>\n    `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n\n    const images = this.shadowRoot.querySelectorAll(\"img\");\n    const imagePromises = Array.from(images).map(img => {\n      if (img.complete) return Promise.resolve();\n      return new Promise(resolve => { \n        img.onload = resolve; \n        img.onerror = resolve; \n      });\n    });\n\n    await Promise.all(imagePromises);\n    await new Promise(resolve => requestAnimationFrame(() => resolve()));\n  }\n\n  async styling() {\n    const sheet = new CSSStyleSheet();\n    // sheet.replaceSync(styles);\n    //const cssModule = import('./details.shadow.scss');\n    // sheet.replaceSync(styles.toString());\n    // styles.use({ target: this.shadowRoot });\n    const style = await import(`./details-${this.styleType}.shadow.scss`);\n    sheet.replaceSync(style.default);\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.unsubscribe = eventManager.subscribe(\"fillResumeComponent\", this.listener);\n  }\n\n  async handleFillResumeComponent(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      // console.log(event.detail.data.owner);\n      const blob = event.detail.data.owner.image;\n      blob.text().then(src => {\n        const data = JSON.parse(src).data\n        if (data && data.includes(\"https://placehold.co/600x400\")) {\n          this.shadowRoot.querySelector(\".container\").classList.add(\"no-pic\"); \n        } else {\n          this.shadowRoot.querySelector(\".container\").classList.remove(\"no-pic\"); \n        }\n      });\n      this.shadowRoot.querySelectorAll(\".field\").forEach(node => { \n        node.querySelector(\".data\").textContent = event.detail.data.owner[node.querySelector(\".data\").dataset.attr];\n      });\n\n      this.shadowRoot.querySelector(`.field [data-attr=\"contact\"]`).textContent = `${this.getCC(event.detail.data.owner.country_code)} ${event.detail.data.owner.tel}`;\n\n      if (Object.values(event.detail.data.owner.skills).length > 9) {\n        this.shadowRoot.querySelector(\".container\").classList.add(\"all-fullWidth\");\n      }\n\n      await new Promise(resolve => requestAnimationFrame(() => resolve())).then(() => {\n        this.resolveFormRequestReady();\n      });\n    } else {\n      console.log(\"external\");\n    } \n  }\n\n  // testRender() {\n  //   const calendar = icon(faCalendarDays, { classes: [\"fa-calender\", \"icon\"] });\n  //   const github = icon(faGithub, { classes: [\"fa-github\", \"icon\"] });\n  //   const house = icon(faHouseUser, { classes: [\"fa-house\", \"icon\"] });\n  //   const mail = icon(faEnvelope, { classes: [\"fa-envelope\", \"icon\"] });\n  //   const rezeki = icon(faDoorOpen, { classes: [\"fa-doorOpen\", \"icon\"] });\n  //   const user = icon(faUser, { classes: [\"fa-user\", \"icon\"] });\n  //   const whatsapp = icon(faWhatsapp, { classes: [\"fa-whatsapp\", \"icon\"] });\n  //   const getCC = (obj) => {\n  //     return `+${country_codes[obj]}`;\n  //   };\n  //\n  //   const dom = `\n  //     <div class=\"container\">\n  //       <div class=\"pic\">\n  //         <user-pic></user-pic>\n  //       </div>\n  //       <div class=\"info\">\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${user.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"name\">${yaml.owner.name}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${calendar.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"yob\">${yaml.owner.yob}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${whatsapp.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"contact\">${this.getCC(yaml.owner.country_code)} ${yaml.owner.tel}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${mail.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"email\">${yaml.owner.email}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${github.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"github\">${yaml.owner.github}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${house.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"location\">${yaml.owner.location}</span>\n  //           </div>\n  //         </div>\n  //         <div class=\"attr\">\n  //           <div class=\"field\">\n  //             ${rezeki.node[0].outerHTML}\n  //             <span class=\"data\" data-attr=\"seek\">${yaml.owner.seek}</span>\n  //           </div>\n  //         </div>\n  //       </div>\n  //       <div class=\"motto\">\n  //         <div>\n  //           <p data-attr=\"motto\">\n  //             ${yaml.owner.motto}\n  //           </p>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   `;\n  //\n  //   this.shadowRoot.innerHTML = DOMPurify.sanitize(dom)\n  // }\n\n  getCC(obj) {\n      return country_codes[obj] ? `+${country_codes[obj]}` : \"\";\n  }; \n\n  async publishCustomEvent(data) {\n    try {\n      if (data.await) {\n        await data.awaitDetail();\n      }\n\n      const eventDetail = {\n        bubbles: true,\n        composed: true,\n        detail: data.details,\n      };\n\n      eventManager.publish(data.eventName, eventDetail);\n    } catch (err) {\n      console.error(`Failed to publish ${data.eventName} : ${err}`);\n    }\n  }\n}\n\n//customElements.define('user-details', UserDetails);\nregisterCustomElement(\"user-details\", UserDetails);\n","var map = {\n\t\"./details-classic.shadow.scss\": [\n\t\t3690,\n\t\t3690\n\t],\n\t\"./details-default.shadow.scss\": [\n\t\t2845,\n\t\t2845\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 4899;\nmodule.exports = webpackAsyncContext;"],"names":["constructor","this","registry","Map","set","key","value","get","clear","forEach","_","delete","UserDetails","HTMLElement","super","attachShadow","mode","isReadyPromise","Promise","resolve","resolveReady","formRequestPromise","resolveFormRequestReady","listener","styleType","dataset","style","handleFillResumeComponent","bind","unsubscribe","add","connectedCallback","setupEventListener","render","then","styling","disconnectedCallback","calendar","classes","github","house","mail","rezeki","user","whatsapp","dom","node","outerHTML","shadowRoot","innerHTML","sanitize","images","querySelectorAll","imagePromises","Array","from","map","img","complete","onload","onerror","all","requestAnimationFrame","sheet","CSSStyleSheet","replaceSync","default","adoptedStyleSheets","setDelegates","eventManager","subscribe","event","delegated","detail","data","owner","image","text","src","JSON","parse","includes","querySelector","classList","remove","textContent","attr","getCC","country_code","tel","Object","values","skills","length","console","log","obj","publishCustomEvent","await","awaitDetail","eventDetail","bubbles","composed","details","publish","eventName","err","error","webpackAsyncContext","req","__webpack_require__","o","e","Error","code","ids","id","keys","module","exports"],"sourceRoot":""}