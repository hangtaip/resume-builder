{"version":3,"file":"8934.c5e92175337445228769.chunk.js","mappings":"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","sources":["webpack://resume-builder/./src/js/objectRegistry.js","webpack://resume-builder/./src/pages/home/resume_default/educations/ lazy ^\\.\\/educations\\-.*\\.shadow\\.scss$ namespace object","webpack://resume-builder/./src/pages/home/resume_default/educations/educations.js"],"sourcesContent":["class ObjectRegistry {\n  constructor() {\n    this.registry = new Map();\n  }\n\n  set(key, value) {\n    this.registry.set(key, value);\n  }\n\n  get(key) {\n    return this.registry.get(key);\n  }\n\n  clear() {\n    this.registry.forEach((_, key) => this.registry.delete(key));\n  }\n}\n\nexport default new ObjectRegistry();\n","var map = {\n\t\"./educations-classic.shadow.scss\": [\n\t\t558,\n\t\t558\n\t],\n\t\"./educations-default.shadow.scss\": [\n\t\t8073,\n\t\t8073\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 3639;\nmodule.exports = webpackAsyncContext;","import DOMPurify from \"dompurify\";\nimport Listener from \"../../../../js/listener.js\";\n// import yaml from \"../../data/data.yaml\";\nimport { registerCustomElement } from \"../../../../js/registerComponent.js\";\n// import styles from \"./educations.shadow.scss\";\nimport { icon, library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faUserGraduate } from \"@fortawesome/free-solid-svg-icons\";\nimport eventManager from \"../../../../js/eventManager.js\";\nimport objectRegistry from \"../../../../js/objectRegistry.js\";\n\nexport default class UserEducations extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: \"open\" });\n    this.isReadyPromise = new Promise(resolve => {\n      this.resolveReady = resolve;\n    });\n    this.formRequestPromise = new Promise(resolve => {\n      this.resolveFormRequestReady = resolve;\n    });\n    this.listener;\n    this.unsubscribe;\n    this.styleType = this.dataset.style || \"default\";\n    this.customEventData = {\n      await: false,\n      awaitDetail() {\n        return 0;\n      },\n      eventName: \"handleCustomEvent\",\n      details: \"\",\n    };\n    this._lastObservedSize = null;\n    this._sameSizeFrameCount = 0;\n    this._animationFrameId = null;\n    this._pendingSize = null;\n\n    this.handleFillResumeComponent = this.handleFillResumeComponent.bind(this);\n    this.handleTransitionend = this.handleTransitionend.bind(this);\n    library.add(faUserGraduate);\n  }\n\n  connectedCallback() {\n    this.setupEventListener();\n    // this.testRender();\n    this.render().then(() => {\n      this.resolveReady();\n    });\n    this.styling();\n    // this.setupGenericEventListener();\n  }\n\n  disconnectedCallback() {\n    this.unsubscribe();\n    this.abortGenericEventListener(); \n  }\n\n  async render() {\n    const i = icon(faUserGraduate, {\n      classes: [\"fa-user-graduate\"],\n    });\n\n    const dom = `\n      <div class=\"container\">\n        <h3 class=\"header\">\n          ${i.node[0].outerHTML}\n          <span class=\"title\">Education</span>\n        </h3> \n      </div>\n    `;\n\n    this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n\n    const images = this.shadowRoot.querySelectorAll(\"img\");\n    const imagePromises = Array.from(images).map(img => {\n      if (img.complete) return Promise.resolve();\n      return new Promise(resolve => { \n        img.onload = resolve; \n        img.onerror = resolve; \n      });\n    });\n\n    await Promise.all(imagePromises);\n    await new Promise(resolve => requestAnimationFrame(() => resolve()));\n  }\n\n  appendData(data) {\n    const eduDom = Object.values(data).map(edu => {\n      return `\n        <div class=\"field-group\">\n          <div class=\"card field\">\n            <span class=\"body\" data-attr=\"field\">${edu.field}</span>\n          </div>\n          <div class=\"card field\">\n            <span class=\"body\" data-attr=\"uni\">${edu.alma}</span>\n          </div>\n        </div>\n      `;\n    })\n    eduDom.unshift('<div class=\"body\">');\n    eduDom.push(\"</div>\");\n\n    const container = new DOMParser().parseFromString(DOMPurify.sanitize(eduDom.join(\" \")), \"text/html\");\n    const fragments = new DocumentFragment();\n    while (container.body.firstChild) {\n      fragments.append(container.body.firstChild);\n    }\n    this.shadowRoot.querySelector(\".container\").append(fragments);\n  }\n\n  setupEventListener() {\n    this.listener = new Listener(this);\n    this.listener.setDelegates(this);\n    this.unsubscribe = eventManager.subscribe(\"fillResumeComponent\", this.listener);\n  }\n\n setupGenericEventListener() {\n    this.shadowRoot.addEventListener(\"transitionend\", this.listener);\n    // resizeObserver.observe(this);\n  } \n\n  abortGenericEventListener() {\n    this.shadowRoot.removeEventListener(\"transitionend\", this.listener); \n    // resizeObserver.unobserve(this);\n    // stopStabilizationCheck(this);\n  }\n\n  async styling() {\n    const sheet = new CSSStyleSheet();\n    // sheet.replaceSync(styles);\n    // sheet.replaceSync(styles.toString());\n    // styles.use({ target: this.shadowRoot });\n    const style = await import(`./educations-${this.styleType}.shadow.scss`);\n    sheet.replaceSync(style.default);\n    this.shadowRoot.adoptedStyleSheets = [sheet];\n  }\n\n  async handleFillResumeComponent(event, delegated) {\n    const isDOM = delegated instanceof Listener;\n\n    if (isDOM) {\n      this.appendData(event.detail.data.owner.edu);\n\n      if (Object.keys(event.detail.data.owner.edu).length > 1) {\n        this.customEventData.await = false;\n        this.customEventData.awaitDetail = () => {\n          return 0;\n        }\n        this.customEventData.eventName = \"updateEduStyle\";\n        this.customEventData.details = { data: event.detail.data.owner.edu };\n        this.publishCustomEvent(this.customEventData);\n\n        await new Promise(resolve => requestAnimationFrame(() => resolve())).then(() => {\n          this.resolveFormRequestReady();\n        });\n      }\n    } else {\n      console.log(\"external\");\n    }\n  } \n\n  handleTransitionend(event, delegated) {\n    // console.log(event);\n  }\n\n  async publishCustomEvent(data) {\n    try {\n      if (data.await) {\n        await data.awaitDetail();\n      }\n\n      const eventDetail = {\n        bubbles: true,\n        composed: true,\n        detail: data.details,\n      };\n      \n      eventManager.publish(data.eventName, eventDetail);\n    } catch (err) {\n      console.error(`Failed to publish ${data.eventName}:`, err);\n    }\n  }\n\n  // testRender() {\n  //   const i = icon(faUserGraduate, {\n  //     classes: [\"fa-user-graduate\"],\n  //   });\n  //\n  //   const dom = `\n  //     <div class=\"container\">\n  //       <h3 class=\"header\">\n  //         ${i.node[0].outerHTML}\n  //         <span class=\"title\">Education</span>\n  //       </h3>\n  //       <div class=\"body\">\n  //         <div class=\"card field\">\n  //           <span class=\"body\">${yaml.owner.edu.field}</span>\n  //         </div>\n  //         <div class=\"card uni\">\n  //           <span class=\"body\">${yaml.owner.edu.uni}</span>\n  //         </div>\n  //       <div>\n  //     </div>\n  //   `;\n  //\n  //   this.shadowRoot.innerHTML = DOMPurify.sanitize(dom);\n  // }  \n}\n\nregisterCustomElement(\"user-educations\", UserEducations);\n"],"names":["constructor","this","registry","Map","set","key","value","get","clear","forEach","_","delete","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","UserEducations","HTMLElement","super","attachShadow","mode","isReadyPromise","resolveReady","formRequestPromise","resolveFormRequestReady","listener","unsubscribe","styleType","dataset","style","customEventData","await","awaitDetail","eventName","details","_lastObservedSize","_sameSizeFrameCount","_animationFrameId","_pendingSize","handleFillResumeComponent","bind","handleTransitionend","add","connectedCallback","setupEventListener","render","styling","disconnectedCallback","abortGenericEventListener","dom","classes","node","outerHTML","shadowRoot","innerHTML","sanitize","images","querySelectorAll","imagePromises","Array","from","img","complete","onload","onerror","all","requestAnimationFrame","appendData","data","eduDom","values","edu","field","alma","unshift","push","container","DOMParser","parseFromString","join","fragments","DocumentFragment","body","firstChild","append","querySelector","setDelegates","subscribe","setupGenericEventListener","addEventListener","removeEventListener","sheet","CSSStyleSheet","replaceSync","default","adoptedStyleSheets","event","delegated","detail","owner","length","publishCustomEvent","console","log","eventDetail","bubbles","composed","publish","err","error"],"sourceRoot":""}